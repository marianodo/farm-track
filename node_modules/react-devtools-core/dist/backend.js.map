{"version":3,"file":"backend.js","mappings":"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","sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/index.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/cjs/react.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/index.js","webpack://ReactDevToolsBackend/../../node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend/../../node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend/../../node_modules/process/browser.js","webpack://ReactDevToolsBackend/../../node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/iterator.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/webpack/runtime/compat get default export","webpack://ReactDevToolsBackend/webpack/runtime/define property getters","webpack://ReactDevToolsBackend/webpack/runtime/hasOwnProperty shorthand","webpack://ReactDevToolsBackend/webpack/runtime/make namespace object","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../../src/index.ts","webpack://ReactDevToolsBackend/../shared/ReactFeatureFlags.js","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/frontend/types.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsOwnerStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/DevToolsComponentInfoStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsServerComponentLogs.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../shared/hasOwnProperty.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/devtools/constants.js","webpack://ReactDevToolsBackend/../react-devtools-timeline/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/profilingHooks.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/attachRenderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/formatConsoleArguments.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/backend.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(self, () => {\nreturn ","/**\n * @license React\n * react-debug-tools.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar ErrorStackParser = require(\"error-stack-parser\"),\n  React = require(\"react\"),\n  assign = Object.assign,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  hasOwnProperty = Object.prototype.hasOwnProperty,\n  hookLog = [],\n  primitiveStackCache = null;\nfunction getPrimitiveStackCache() {\n  if (null === primitiveStackCache) {\n    var cache = new Map();\n    try {\n      Dispatcher.useContext({ _currentValue: null });\n      Dispatcher.useState(null);\n      Dispatcher.useReducer(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useRef(null);\n      \"function\" === typeof Dispatcher.useCacheRefresh &&\n        Dispatcher.useCacheRefresh();\n      Dispatcher.useLayoutEffect(function () {});\n      Dispatcher.useInsertionEffect(function () {});\n      Dispatcher.useEffect(function () {});\n      Dispatcher.useImperativeHandle(void 0, function () {\n        return null;\n      });\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(function () {});\n      Dispatcher.useTransition();\n      Dispatcher.useSyncExternalStore(\n        function () {\n          return function () {};\n        },\n        function () {\n          return null;\n        },\n        function () {\n          return null;\n        }\n      );\n      Dispatcher.useDeferredValue(null);\n      Dispatcher.useMemo(function () {\n        return null;\n      });\n      Dispatcher.useOptimistic(null, function (s) {\n        return s;\n      });\n      Dispatcher.useFormState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useActionState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useHostTransitionStatus();\n      \"function\" === typeof Dispatcher.useMemoCache &&\n        Dispatcher.useMemoCache(0);\n      if (\"function\" === typeof Dispatcher.use) {\n        Dispatcher.use({ $$typeof: REACT_CONTEXT_TYPE, _currentValue: null });\n        Dispatcher.use({\n          then: function () {},\n          status: \"fulfilled\",\n          value: null\n        });\n        try {\n          Dispatcher.use({ then: function () {} });\n        } catch (x) {}\n      }\n      Dispatcher.useId();\n      \"function\" === typeof Dispatcher.useEffectEvent &&\n        Dispatcher.useEffectEvent(function () {});\n    } finally {\n      var readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (var i = 0; i < readHookLog.length; i++) {\n      var hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\nvar currentFiber = null,\n  currentHook = null,\n  currentContextDependency = null;\nfunction nextHook() {\n  var hook = currentHook;\n  null !== hook && (currentHook = hook.next);\n  return hook;\n}\nfunction readContext(context) {\n  if (null === currentFiber) return context._currentValue;\n  if (null === currentContextDependency)\n    throw Error(\n      \"Context reads do not line up with context dependencies. This is a bug in React Debug Tools.\"\n    );\n  hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    ? ((context = currentContextDependency.memoizedValue),\n      (currentContextDependency = currentContextDependency.next))\n    : (context = context._currentValue);\n  return context;\n}\nvar SuspenseException = Error(\n    \"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`.\"\n  ),\n  Dispatcher = {\n    readContext: readContext,\n    use: function (usable) {\n      if (null !== usable && \"object\" === typeof usable) {\n        if (\"function\" === typeof usable.then) {\n          switch (usable.status) {\n            case \"fulfilled\":\n              var fulfilledValue = usable.value;\n              hookLog.push({\n                displayName: null,\n                primitive: \"Promise\",\n                stackError: Error(),\n                value: fulfilledValue,\n                debugInfo:\n                  void 0 === usable._debugInfo ? null : usable._debugInfo,\n                dispatcherHookName: \"Use\"\n              });\n              return fulfilledValue;\n            case \"rejected\":\n              throw usable.reason;\n          }\n          hookLog.push({\n            displayName: null,\n            primitive: \"Unresolved\",\n            stackError: Error(),\n            value: usable,\n            debugInfo: void 0 === usable._debugInfo ? null : usable._debugInfo,\n            dispatcherHookName: \"Use\"\n          });\n          throw SuspenseException;\n        }\n        if (usable.$$typeof === REACT_CONTEXT_TYPE)\n          return (\n            (fulfilledValue = readContext(usable)),\n            hookLog.push({\n              displayName: usable.displayName || \"Context\",\n              primitive: \"Context (use)\",\n              stackError: Error(),\n              value: fulfilledValue,\n              debugInfo: null,\n              dispatcherHookName: \"Use\"\n            }),\n            fulfilledValue\n          );\n      }\n      throw Error(\"An unsupported type was passed to use(): \" + String(usable));\n    },\n    useCallback: function (callback) {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Callback\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState[0] : callback,\n        debugInfo: null,\n        dispatcherHookName: \"Callback\"\n      });\n      return callback;\n    },\n    useContext: function (context) {\n      var value = readContext(context);\n      hookLog.push({\n        displayName: context.displayName || null,\n        primitive: \"Context\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"Context\"\n      });\n      return value;\n    },\n    useEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Effect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"Effect\"\n      });\n    },\n    useImperativeHandle: function (ref) {\n      nextHook();\n      var instance = void 0;\n      null !== ref && \"object\" === typeof ref && (instance = ref.current);\n      hookLog.push({\n        displayName: null,\n        primitive: \"ImperativeHandle\",\n        stackError: Error(),\n        value: instance,\n        debugInfo: null,\n        dispatcherHookName: \"ImperativeHandle\"\n      });\n    },\n    useLayoutEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"LayoutEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"LayoutEffect\"\n      });\n    },\n    useInsertionEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"InsertionEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"InsertionEffect\"\n      });\n    },\n    useMemo: function (nextCreate) {\n      var hook = nextHook();\n      nextCreate = null !== hook ? hook.memoizedState[0] : nextCreate();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Memo\",\n        stackError: Error(),\n        value: nextCreate,\n        debugInfo: null,\n        dispatcherHookName: \"Memo\"\n      });\n      return nextCreate;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      reducer = nextHook();\n      initialArg =\n        null !== reducer\n          ? reducer.memoizedState\n          : void 0 !== init\n            ? init(initialArg)\n            : initialArg;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Reducer\",\n        stackError: Error(),\n        value: initialArg,\n        debugInfo: null,\n        dispatcherHookName: \"Reducer\"\n      });\n      return [initialArg, function () {}];\n    },\n    useRef: function (initialValue) {\n      var hook = nextHook();\n      initialValue =\n        null !== hook ? hook.memoizedState : { current: initialValue };\n      hookLog.push({\n        displayName: null,\n        primitive: \"Ref\",\n        stackError: Error(),\n        value: initialValue.current,\n        debugInfo: null,\n        dispatcherHookName: \"Ref\"\n      });\n      return initialValue;\n    },\n    useState: function (initialState) {\n      var hook = nextHook();\n      initialState =\n        null !== hook\n          ? hook.memoizedState\n          : \"function\" === typeof initialState\n            ? initialState()\n            : initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"State\",\n        stackError: Error(),\n        value: initialState,\n        debugInfo: null,\n        dispatcherHookName: \"State\"\n      });\n      return [initialState, function () {}];\n    },\n    useDebugValue: function (value, formatterFn) {\n      hookLog.push({\n        displayName: null,\n        primitive: \"DebugValue\",\n        stackError: Error(),\n        value: \"function\" === typeof formatterFn ? formatterFn(value) : value,\n        debugInfo: null,\n        dispatcherHookName: \"DebugValue\"\n      });\n    },\n    useDeferredValue: function (value) {\n      var hook = nextHook();\n      value = null !== hook ? hook.memoizedState : value;\n      hookLog.push({\n        displayName: null,\n        primitive: \"DeferredValue\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"DeferredValue\"\n      });\n      return value;\n    },\n    useTransition: function () {\n      var stateHook = nextHook();\n      nextHook();\n      stateHook = null !== stateHook ? stateHook.memoizedState : !1;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Transition\",\n        stackError: Error(),\n        value: stateHook,\n        debugInfo: null,\n        dispatcherHookName: \"Transition\"\n      });\n      return [stateHook, function () {}];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot) {\n      nextHook();\n      nextHook();\n      subscribe = getSnapshot();\n      hookLog.push({\n        displayName: null,\n        primitive: \"SyncExternalStore\",\n        stackError: Error(),\n        value: subscribe,\n        debugInfo: null,\n        dispatcherHookName: \"SyncExternalStore\"\n      });\n      return subscribe;\n    },\n    useId: function () {\n      var hook = nextHook();\n      hook = null !== hook ? hook.memoizedState : \"\";\n      hookLog.push({\n        displayName: null,\n        primitive: \"Id\",\n        stackError: Error(),\n        value: hook,\n        debugInfo: null,\n        dispatcherHookName: \"Id\"\n      });\n      return hook;\n    },\n    useHostTransitionStatus: function () {\n      var status = readContext({ _currentValue: null });\n      hookLog.push({\n        displayName: null,\n        primitive: \"HostTransitionStatus\",\n        stackError: Error(),\n        value: status,\n        debugInfo: null,\n        dispatcherHookName: \"HostTransitionStatus\"\n      });\n      return status;\n    },\n    useFormState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"FormState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"FormState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useActionState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"ActionState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"ActionState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useOptimistic: function (passthrough) {\n      var hook = nextHook();\n      passthrough = null !== hook ? hook.memoizedState : passthrough;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Optimistic\",\n        stackError: Error(),\n        value: passthrough,\n        debugInfo: null,\n        dispatcherHookName: \"Optimistic\"\n      });\n      return [passthrough, function () {}];\n    },\n    useMemoCache: function (size) {\n      var fiber = currentFiber;\n      if (null == fiber) return [];\n      fiber = null != fiber.updateQueue ? fiber.updateQueue.memoCache : null;\n      if (null == fiber) return [];\n      var data = fiber.data[fiber.index];\n      if (void 0 === data) {\n        data = fiber.data[fiber.index] = Array(size);\n        for (var i = 0; i < size; i++) data[i] = REACT_MEMO_CACHE_SENTINEL;\n      }\n      fiber.index++;\n      return data;\n    },\n    useCacheRefresh: function () {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"CacheRefresh\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState : function () {},\n        debugInfo: null,\n        dispatcherHookName: \"CacheRefresh\"\n      });\n      return function () {};\n    },\n    useEffectEvent: function (callback) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"EffectEvent\",\n        stackError: Error(),\n        value: callback,\n        debugInfo: null,\n        dispatcherHookName: \"EffectEvent\"\n      });\n      return callback;\n    }\n  },\n  DispatcherProxyHandler = {\n    get: function (target, prop) {\n      if (target.hasOwnProperty(prop)) return target[prop];\n      target = Error(\"Missing method in Dispatcher: \" + prop);\n      target.name = \"ReactDebugToolsUnsupportedHookError\";\n      throw target;\n    }\n  },\n  DispatcherProxy =\n    \"undefined\" === typeof Proxy\n      ? Dispatcher\n      : new Proxy(Dispatcher, DispatcherProxyHandler),\n  mostLikelyAncestorIndex = 0;\nfunction findSharedIndex(hookStack, rootStack, rootIndex) {\n  var source = rootStack[rootIndex].source,\n    i = 0;\n  a: for (; i < hookStack.length; i++)\n    if (hookStack[i].source === source) {\n      for (\n        var a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      )\n        if (hookStack[b].source !== rootStack[a].source) continue a;\n      return i;\n    }\n  return -1;\n}\nfunction isReactWrapper(functionName, wrapperName) {\n  functionName = parseHookName(functionName);\n  return \"HostTransitionStatus\" === wrapperName\n    ? functionName === wrapperName || \"FormStatus\" === functionName\n    : functionName === wrapperName;\n}\nfunction parseHookName(functionName) {\n  if (!functionName) return \"\";\n  var startIndex = functionName.lastIndexOf(\"[as \");\n  if (-1 !== startIndex)\n    return parseHookName(functionName.slice(startIndex + 4, -1));\n  startIndex = functionName.lastIndexOf(\".\");\n  startIndex = -1 === startIndex ? 0 : startIndex + 1;\n  functionName.slice(startIndex).startsWith(\"unstable_\") && (startIndex += 9);\n  functionName.slice(startIndex).startsWith(\"experimental_\") &&\n    (startIndex += 13);\n  if (\"use\" === functionName.slice(startIndex, startIndex + 3)) {\n    if (3 === functionName.length - startIndex) return \"Use\";\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\nfunction buildTree(rootStack$jscomp$0, readHookLog) {\n  for (\n    var rootChildren = [],\n      prevStack = null,\n      levelChildren = rootChildren,\n      nativeHookID = 0,\n      stackOfChildren = [],\n      i = 0;\n    i < readHookLog.length;\n    i++\n  ) {\n    var hook = readHookLog[i];\n    var rootStack = rootStack$jscomp$0;\n    var JSCompiler_inline_result = ErrorStackParser.parse(hook.stackError);\n    b: {\n      var hookStack = JSCompiler_inline_result,\n        rootIndex = findSharedIndex(\n          hookStack,\n          rootStack,\n          mostLikelyAncestorIndex\n        );\n      if (-1 !== rootIndex) rootStack = rootIndex;\n      else {\n        for (\n          var i$jscomp$0 = 0;\n          i$jscomp$0 < rootStack.length && 5 > i$jscomp$0;\n          i$jscomp$0++\n        )\n          if (\n            ((rootIndex = findSharedIndex(hookStack, rootStack, i$jscomp$0)),\n            -1 !== rootIndex)\n          ) {\n            mostLikelyAncestorIndex = i$jscomp$0;\n            rootStack = rootIndex;\n            break b;\n          }\n        rootStack = -1;\n      }\n    }\n    b: {\n      hookStack = JSCompiler_inline_result;\n      rootIndex = getPrimitiveStackCache().get(hook.primitive);\n      if (void 0 !== rootIndex)\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < rootIndex.length && i$jscomp$0 < hookStack.length;\n          i$jscomp$0++\n        )\n          if (rootIndex[i$jscomp$0].source !== hookStack[i$jscomp$0].source) {\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            hookStack = i$jscomp$0;\n            break b;\n          }\n      hookStack = -1;\n    }\n    JSCompiler_inline_result =\n      -1 === rootStack || -1 === hookStack || 2 > rootStack - hookStack\n        ? -1 === hookStack\n          ? [null, null]\n          : [JSCompiler_inline_result[hookStack - 1], null]\n        : [\n            JSCompiler_inline_result[hookStack - 1],\n            JSCompiler_inline_result.slice(hookStack, rootStack - 1)\n          ];\n    hookStack = JSCompiler_inline_result[0];\n    JSCompiler_inline_result = JSCompiler_inline_result[1];\n    rootStack = hook.displayName;\n    null === rootStack &&\n      null !== hookStack &&\n      (rootStack =\n        parseHookName(hookStack.functionName) ||\n        parseHookName(hook.dispatcherHookName));\n    if (null !== JSCompiler_inline_result) {\n      hookStack = 0;\n      if (null !== prevStack) {\n        for (\n          ;\n          hookStack < JSCompiler_inline_result.length &&\n          hookStack < prevStack.length &&\n          JSCompiler_inline_result[\n            JSCompiler_inline_result.length - hookStack - 1\n          ].source === prevStack[prevStack.length - hookStack - 1].source;\n\n        )\n          hookStack++;\n        for (\n          prevStack = prevStack.length - 1;\n          prevStack > hookStack;\n          prevStack--\n        )\n          levelChildren = stackOfChildren.pop();\n      }\n      for (\n        prevStack = JSCompiler_inline_result.length - hookStack - 1;\n        1 <= prevStack;\n        prevStack--\n      )\n        (hookStack = []),\n          (rootIndex = JSCompiler_inline_result[prevStack]),\n          (rootIndex = {\n            id: null,\n            isStateEditable: !1,\n            name: parseHookName(\n              JSCompiler_inline_result[prevStack - 1].functionName\n            ),\n            value: void 0,\n            subHooks: hookStack,\n            debugInfo: null,\n            hookSource: {\n              lineNumber: rootIndex.lineNumber,\n              columnNumber: rootIndex.columnNumber,\n              functionName: rootIndex.functionName,\n              fileName: rootIndex.fileName\n            }\n          }),\n          levelChildren.push(rootIndex),\n          stackOfChildren.push(levelChildren),\n          (levelChildren = hookStack);\n      prevStack = JSCompiler_inline_result;\n    }\n    hookStack = hook.primitive;\n    rootIndex = hook.debugInfo;\n    hook = {\n      id:\n        \"Context\" === hookStack ||\n        \"Context (use)\" === hookStack ||\n        \"DebugValue\" === hookStack ||\n        \"Promise\" === hookStack ||\n        \"Unresolved\" === hookStack ||\n        \"HostTransitionStatus\" === hookStack\n          ? null\n          : nativeHookID++,\n      isStateEditable: \"Reducer\" === hookStack || \"State\" === hookStack,\n      name: rootStack || hookStack,\n      value: hook.value,\n      subHooks: [],\n      debugInfo: rootIndex,\n      hookSource: null\n    };\n    rootStack = {\n      lineNumber: null,\n      functionName: null,\n      fileName: null,\n      columnNumber: null\n    };\n    JSCompiler_inline_result &&\n      1 <= JSCompiler_inline_result.length &&\n      ((JSCompiler_inline_result = JSCompiler_inline_result[0]),\n      (rootStack.lineNumber = JSCompiler_inline_result.lineNumber),\n      (rootStack.functionName = JSCompiler_inline_result.functionName),\n      (rootStack.fileName = JSCompiler_inline_result.fileName),\n      (rootStack.columnNumber = JSCompiler_inline_result.columnNumber));\n    hook.hookSource = rootStack;\n    levelChildren.push(hook);\n  }\n  processDebugValues(rootChildren, null);\n  return rootChildren;\n}\nfunction processDebugValues(hooksTree, parentHooksNode) {\n  for (var debugValueHooksNodes = [], i = 0; i < hooksTree.length; i++) {\n    var hooksNode = hooksTree[i];\n    \"DebugValue\" === hooksNode.name && 0 === hooksNode.subHooks.length\n      ? (hooksTree.splice(i, 1), i--, debugValueHooksNodes.push(hooksNode))\n      : processDebugValues(hooksNode.subHooks, hooksNode);\n  }\n  null !== parentHooksNode &&\n    (1 === debugValueHooksNodes.length\n      ? (parentHooksNode.value = debugValueHooksNodes[0].value)\n      : 1 < debugValueHooksNodes.length &&\n        (parentHooksNode.value = debugValueHooksNodes.map(function (_ref) {\n          return _ref.value;\n        })));\n}\nfunction handleRenderFunctionError(error) {\n  if (error !== SuspenseException) {\n    if (\n      error instanceof Error &&\n      \"ReactDebugToolsUnsupportedHookError\" === error.name\n    )\n      throw error;\n    var wrapperError = Error(\"Error rendering inspected component\", {\n      cause: error\n    });\n    wrapperError.name = \"ReactDebugToolsRenderError\";\n    wrapperError.cause = error;\n    throw wrapperError;\n  }\n}\nfunction inspectHooks(renderFunction, props, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  var previousDispatcher = currentDispatcher.H;\n  currentDispatcher.H = DispatcherProxy;\n  try {\n    var ancestorStackError = Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    (renderFunction = hookLog),\n      (hookLog = []),\n      (currentDispatcher.H = previousDispatcher);\n  }\n  currentDispatcher = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(currentDispatcher, renderFunction);\n}\nfunction restoreContexts(contextMap) {\n  contextMap.forEach(function (value, context) {\n    return (context._currentValue = value);\n  });\n}\nexports.inspectHooks = inspectHooks;\nexports.inspectHooksOfFiber = function (fiber, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  if (0 !== fiber.tag && 15 !== fiber.tag && 11 !== fiber.tag)\n    throw Error(\n      \"Unknown Fiber. Needs to be a function component to inspect hooks.\"\n    );\n  getPrimitiveStackCache();\n  currentHook = fiber.memoizedState;\n  currentFiber = fiber;\n  if (hasOwnProperty.call(currentFiber, \"dependencies\")) {\n    var dependencies = currentFiber.dependencies;\n    currentContextDependency =\n      null !== dependencies ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, \"dependencies_old\"))\n    (dependencies = currentFiber.dependencies_old),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"dependencies_new\"))\n    (dependencies = currentFiber.dependencies_new),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"contextDependencies\"))\n    (dependencies = currentFiber.contextDependencies),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.first : null);\n  else\n    throw Error(\n      \"Unsupported React version. This is a bug in React Debug Tools.\"\n    );\n  dependencies = fiber.type;\n  var props = fiber.memoizedProps;\n  if (\n    dependencies !== fiber.elementType &&\n    dependencies &&\n    dependencies.defaultProps\n  ) {\n    props = assign({}, props);\n    var defaultProps = dependencies.defaultProps;\n    for (propName in defaultProps)\n      void 0 === props[propName] && (props[propName] = defaultProps[propName]);\n  }\n  var propName = new Map();\n  try {\n    if (\n      null !== currentContextDependency &&\n      !hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    )\n      for (defaultProps = fiber; defaultProps; ) {\n        if (10 === defaultProps.tag) {\n          var context = defaultProps.type;\n          void 0 !== context._context && (context = context._context);\n          propName.has(context) ||\n            (propName.set(context, context._currentValue),\n            (context._currentValue = defaultProps.memoizedProps.value));\n        }\n        defaultProps = defaultProps.return;\n      }\n    if (11 === fiber.tag) {\n      var renderFunction = dependencies.render;\n      context = props;\n      var ref = fiber.ref;\n      fiber = currentDispatcher;\n      var previousDispatcher = fiber.H;\n      fiber.H = DispatcherProxy;\n      try {\n        var ancestorStackError = Error();\n        renderFunction(context, ref);\n      } catch (error) {\n        handleRenderFunctionError(error);\n      } finally {\n        var readHookLog = hookLog;\n        hookLog = [];\n        fiber.H = previousDispatcher;\n      }\n      var rootStack = ErrorStackParser.parse(ancestorStackError);\n      return buildTree(rootStack, readHookLog);\n    }\n    return inspectHooks(dependencies, props, currentDispatcher);\n  } finally {\n    (currentContextDependency = currentHook = currentFiber = null),\n      restoreContexts(propName);\n  }\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null, G: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nfunction useOptimistic(passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction startTransition(scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  currentTransition.types =\n    null !== prevTransition ? prevTransition.types : null;\n  currentTransition.gesture = null;\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction addTransitionType(type) {\n  var transition = ReactSharedInternals.T;\n  if (null !== transition) {\n    var transitionTypes = transition.types;\n    null === transitionTypes\n      ? (transition.types = [type])\n      : -1 === transitionTypes.indexOf(type) && transitionTypes.push(type);\n  } else startTransition(addTransitionType.bind(null, type));\n}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.experimental_useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.experimental_useOptimistic = function (passthrough, reducer) {\n  return useOptimistic(passthrough, reducer);\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = startTransition;\nexports.unstable_Activity = REACT_ACTIVITY_TYPE;\nexports.unstable_SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.unstable_ViewTransition = REACT_VIEW_TRANSITION_TYPE;\nexports.unstable_addTransitionType = addTransitionType;\nexports.unstable_getCacheForType = function (resourceType) {\n  var dispatcher = ReactSharedInternals.A;\n  return dispatcher ? dispatcher.getCacheForType(resourceType) : resourceType();\n};\nexports.unstable_postpone = function (reason) {\n  reason = Error(reason);\n  reason.$$typeof = REACT_POSTPONE_TYPE;\n  throw reason;\n};\nexports.unstable_startGestureTransition = function (provider, scope, options) {\n  if (null == provider)\n    throw Error(\n      \"A Timeline is required as the first argument to startGestureTransition.\"\n    );\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = { types: null };\n  currentTransition.gesture = provider;\n  ReactSharedInternals.T = currentTransition;\n  try {\n    scope();\n    var onStartGestureTransitionFinish = ReactSharedInternals.G;\n    if (null !== onStartGestureTransitionFinish)\n      return onStartGestureTransitionFinish(\n        currentTransition,\n        provider,\n        options\n      );\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n  return noop;\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = useOptimistic;\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.2.0-experimental-5d87cd22-20250704\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount /*, ...nodes */) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 2; i < arguments.length; i++) {\n    walker = insert(this, walker, arguments[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\nexport const SESSION_STORAGE_RECORD_TIMELINE_KEY =\n  'React::DevTools::recordTimeline';\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n\nexport const FIREFOX_CONSOLE_DIMMING_COLOR = 'color: rgba(124, 124, 124, 0.75)';\nexport const ANSI_STYLE_DIMMING_TEMPLATE = '\\x1b[2;38;2;124;124;124m%s\\x1b[0m';\nexport const ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK =\n  '\\x1b[2;38;2;124;124;124m%s %o\\x1b[0m';\n",null,"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// -----------------------------------------------------------------------------\n// Land or remove (zero effort)\n//\n// Flags that can likely be deleted or landed without consequences\n// -----------------------------------------------------------------------------\n\n// None\n\n// -----------------------------------------------------------------------------\n// Killswitch\n//\n// Flags that exist solely to turn off a change in case it causes a regression\n// when it rolls out to prod. We should remove these as soon as possible.\n// -----------------------------------------------------------------------------\n\nexport const enableHydrationLaneScheduling = true;\n\n// -----------------------------------------------------------------------------\n// Land or remove (moderate effort)\n//\n// Flags that can be probably deleted or landed, but might require extra effort\n// like migrating internal callers or performance testing.\n// -----------------------------------------------------------------------------\n\n// TODO: Finish rolling out in www\nexport const favorSafetyOverHydrationPerf = true;\n\n// Need to remove didTimeout argument from Scheduler before landing\nexport const disableSchedulerTimeoutInWorkLoop = false;\n\n// -----------------------------------------------------------------------------\n// Slated for removal in the future (significant effort)\n//\n// These are experiments that didn't work out, and never shipped, but we can't\n// delete from the codebase until we migrate internal callers.\n// -----------------------------------------------------------------------------\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n//\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\n//\n// This will eventually be replaced by the Transition Tracing proposal.\nexport const enableSuspenseCallback = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport = false;\n\n// -----------------------------------------------------------------------------\n// Ongoing experiments\n//\n// These are features that we're either actively exploring or are reasonably\n// likely to include in an upcoming release.\n// -----------------------------------------------------------------------------\n\n// Yield to the browser event loop and not just the scheduler event loop before passive effects.\n// Fix gated tests that fail with this flag enabled before turning it back on.\nexport const enableYieldingBeforePassive = false;\n\n// Experiment to intentionally yield less to block high framerate animations.\nexport const enableThrottledScheduling = false;\n\nexport const enableLegacyCache = __EXPERIMENTAL__;\n\nexport const enableAsyncIterableChildren = __EXPERIMENTAL__;\n\nexport const enableTaint = __EXPERIMENTAL__;\n\nexport const enablePostpone = __EXPERIMENTAL__;\n\nexport const enableHalt = __EXPERIMENTAL__;\n\nexport const enableViewTransition = __EXPERIMENTAL__;\n\nexport const enableGestureTransition = __EXPERIMENTAL__;\n\nexport const enableScrollEndPolyfill = __EXPERIMENTAL__;\n\nexport const enableSuspenseyImages = false;\n\nexport const enableFizzBlockingRender = __EXPERIMENTAL__; // rel=\"expect\"\n\nexport const enableSrcObject = __EXPERIMENTAL__;\n\nexport const enableHydrationChangeEvent = __EXPERIMENTAL__;\n\nexport const enableDefaultTransitionIndicator = __EXPERIMENTAL__;\n\n/**\n * Switches Fiber creation to a simple object instead of a constructor.\n */\nexport const enableObjectFiber = false;\n\nexport const enableTransitionTracing = false;\n\n// FB-only usage. The new API has different semantics.\nexport const enableLegacyHidden = false;\n\n// Enables unstable_avoidThisFallback feature in Fiber\nexport const enableSuspenseAvoidThisFallback = false;\n\nexport const enableCPUSuspense = __EXPERIMENTAL__;\n\n// Test this at Meta before enabling.\nexport const enableNoCloningMemoCache = false;\n\nexport const enableUseEffectEventHook = __EXPERIMENTAL__;\n\n// Test in www before enabling in open source.\n// Enables DOM-server to stream its instruction set as data-attributes\n// (handled with an MutationObserver) instead of inline-scripts\nexport const enableFizzExternalRuntime = __EXPERIMENTAL__;\n\nexport const alwaysThrottleRetries = true;\n\nexport const passChildrenWhenCloningPersistedNodes = false;\n\n/**\n * Enables a new Fiber flag used in persisted mode to reduce the number\n * of cloned host components.\n */\nexport const enablePersistedModeClonedFlag = false;\n\nexport const enableEagerAlternateStateNodeCleanup = true;\n\n/**\n * Enables an expiration time for retry lanes to avoid starvation.\n */\nexport const enableRetryLaneExpiration = false;\nexport const retryLaneExpirationMs = 5000;\nexport const syncLaneExpirationMs = 250;\nexport const transitionLaneExpirationMs = 5000;\n\n/**\n * Enables a new error detection for infinite render loops from updates caused\n * by setState or similar outside of the component owning the state.\n */\nexport const enableInfiniteRenderLoopDetection = false;\n\nexport const enableLazyPublicInstanceInFabric = false;\n\nexport const enableFragmentRefs = __EXPERIMENTAL__;\n\n// -----------------------------------------------------------------------------\n// Ready for next major.\n//\n// Alias __NEXT_MAJOR__ to __EXPERIMENTAL__ for easier skimming.\n// -----------------------------------------------------------------------------\n\n// TODO: Anything that's set to `true` in this section should either be cleaned\n// up (if it's on everywhere, including Meta and RN builds) or moved to a\n// different section of this file.\n\n// const __NEXT_MAJOR__ = __EXPERIMENTAL__;\n\n// Renames the internal symbol for elements since they have changed signature/constructor\nexport const renameElementSymbol = true;\n\n/**\n * Enables a fix to run insertion effect cleanup on hidden subtrees.\n */\nexport const enableHiddenSubtreeInsertionEffectCleanup = false;\n\n/**\n * Removes legacy style context defined using static `contextTypes` and consumed with static `childContextTypes`.\n */\nexport const disableLegacyContext = true;\n/**\n * Removes legacy style context just from function components.\n */\nexport const disableLegacyContextForFunctionComponents = true;\n\n// Enable the moveBefore() alternative to insertBefore(). This preserves states of moves.\nexport const enableMoveBefore = false;\n\n// Disabled caching behavior of `react/cache` in client runtimes.\nexport const disableClientCache = true;\n\n// Warn on any usage of ReactTestRenderer\nexport const enableReactTestRendererWarning = true;\n\n// Disables legacy mode\n// This allows us to land breaking changes to remove legacy mode APIs in experimental builds\n// before removing them in stable in the next Major\nexport const disableLegacyMode = true;\n\n// -----------------------------------------------------------------------------\n// Chopping Block\n//\n// Planned feature deprecations and breaking changes. Sorted roughly in order of\n// when we plan to enable them.\n// -----------------------------------------------------------------------------\n\n// -----------------------------------------------------------------------------\n// React DOM Chopping Block\n//\n// Similar to main Chopping Block but only flags related to React DOM. These are\n// grouped because we will likely batch all of them into a single major release.\n// -----------------------------------------------------------------------------\n\n// Disable support for comment nodes as React DOM containers. Already disabled\n// in open source, but www codebase still relies on it. Need to remove.\nexport const disableCommentsAsDOMContainers = true;\n\nexport const enableTrustedTypesIntegration = false;\n\n// Prevent the value and checked attributes from syncing with their related\n// DOM properties\nexport const disableInputAttributeSyncing = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren = false;\n\n// -----------------------------------------------------------------------------\n// Debugging and DevTools\n// -----------------------------------------------------------------------------\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Adds performance.measure() marks using Chrome extensions to allow formatted\n// Component rendering tracks to show up in the Performance tab.\n// This flag will be used for both Server Component and Client Component tracks.\n// All calls should also be gated on enableProfilerTimer.\nexport const enableComponentPerformanceTrack = __EXPERIMENTAL__;\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental timeline tool.\nexport const enableSchedulingProfiler: boolean =\n  !enableComponentPerformanceTrack && __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = __PROFILE__;\n\n// Phase param passed to onRender callback differentiates between an \"update\" and a \"cascading-update\".\nexport const enableProfilerNestedUpdatePhase = __PROFILE__;\n\nexport const enableAsyncDebugInfo = __EXPERIMENTAL__;\n\n// Track which Fiber(s) schedule render work.\nexport const enableUpdaterTracking = __PROFILE__;\n\nexport const ownerStackLimit = 1e4;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {renameElementSymbol} from 'shared/ReactFeatureFlags';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_LEGACY_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_ELEMENT_TYPE: symbol = renameElementSymbol\n  ? Symbol.for('react.transitional.element')\n  : REACT_LEGACY_ELEMENT_TYPE;\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_ACTIVITY_TYPE: symbol = Symbol.for('react.activity');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nexport const REACT_VIEW_TRANSITION_TYPE: symbol = Symbol.for(\n  'react.view_transition',\n);\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n\nexport const ASYNC_ITERATOR = Symbol.asyncIterator;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\nexport const ElementTypeVirtual = 15;\nexport const ElementTypeViewTransition = 16;\nexport const ElementTypeActivity = 17;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType =\n  | 1\n  | 2\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\nexport const ComponentFilterEnvironmentName = 5;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4 | 5;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type EnvironmentNameComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 5,\n  value: string,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter\n  | EnvironmentNameComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to an ElementID (e.g. a Fiber) on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis– meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n\n  // If component is compiled with Forget, the backend will send its name as Forget(...)\n  // Later, on the frontend side, we will strip HOC names and Forget prefix.\n  compiledWithForget: boolean,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n\n  // Can view component source location.\n  canViewSource: boolean,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Location of component in source code.\n  source: Source | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n\n  // React Native only.\n  nativeTag: number | null,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  REACT_CONSUMER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_ELEMENT_TYPE,\n  REACT_LEGACY_ELEMENT_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_TRACING_MARKER_TYPE,\n  REACT_VIEW_TRANSITION_TYPE,\n} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  SESSION_STORAGE_RECORD_TIMELINE_KEY,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n  ElementTypeVirtual,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  localStorageGetItem,\n  localStorageSetItem,\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  ProfilingSettings,\n  SerializedElement as SerializedElementBackend,\n} from 'react-devtools-shared/src/backend/types';\nimport {isSynchronousXHRSupported} from './backend/utils';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\n// Previously, the type of `Context.Provider`.\nconst LEGACY_REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider');\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n    case ElementTypeVirtual:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          // $FlowFixMe[incompatible-type]\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    // $FlowFixMe[incompatible-return]\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'error'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'thenable'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\nfunction isError(data: Object): boolean {\n  // If it doesn't event look like an error, it won't be an actual error.\n  if ('name' in data && 'message' in data) {\n    while (data) {\n      // $FlowFixMe[method-unbinding]\n      if (Object.prototype.toString.call(data) === '[object Error]') {\n        return true;\n      }\n      data = Object.getPrototypeOf(data);\n    }\n  }\n\n  return false;\n}\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (\n        data.$$typeof === REACT_ELEMENT_TYPE ||\n        data.$$typeof === REACT_LEGACY_ELEMENT_TYPE\n      ) {\n        return 'react_element';\n      }\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else if (typeof data.then === 'function') {\n        return 'thenable';\n      } else if (isError(data)) {\n        return 'error';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\n// Fork of packages/react-is/src/ReactIs.js:30, but with legacy element type\n// Which has been changed in https://github.com/facebook/react/pull/28813\nfunction typeOfWithLegacyElementSymbol(object: any): mixed {\n  if (typeof object === 'object' && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n      case REACT_LEGACY_ELEMENT_TYPE:\n        const type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return type;\n          default:\n            const $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return $$typeofType;\n              case REACT_CONSUMER_TYPE:\n                return $$typeofType;\n              // Fall through\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOfWithLegacyElementSymbol(element);\n  switch (elementType) {\n    case REACT_CONSUMER_TYPE:\n      return 'ContextConsumer';\n    case LEGACY_REACT_PROVIDER_TYPE:\n      return 'ContextProvider';\n    case REACT_CONTEXT_TYPE:\n      return 'Context';\n    case REACT_FORWARD_REF_TYPE:\n      return 'ForwardRef';\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n    case REACT_LAZY_TYPE:\n      return 'Lazy';\n    case REACT_MEMO_TYPE:\n      return 'Memo';\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n    case REACT_VIEW_TRANSITION_TYPE:\n      return 'ViewTransition';\n    case REACT_TRACING_MARKER_TYPE:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '…';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {…}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {…}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      if (typeof data.name === 'function' || data.name === '') {\n        return '() => {}';\n      }\n      return `${truncateForDisplay(data.name)}() {}`;\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      try {\n        let resolvedConstructorName = data.constructor.name;\n        if (typeof resolvedConstructorName === 'string') {\n          return resolvedConstructorName;\n        }\n\n        resolvedConstructorName = Object.getPrototypeOf(data).constructor.name;\n        if (typeof resolvedConstructorName === 'string') {\n          return resolvedConstructorName;\n        }\n\n        try {\n          return truncateForDisplay(String(data));\n        } catch (error) {\n          return 'unserializable';\n        }\n      } catch (error) {\n        return 'unserializable';\n      }\n    case 'thenable':\n      let displayName: string;\n      if (isPlainObject(data)) {\n        displayName = 'Thenable';\n      } else {\n        let resolvedConstructorName = data.constructor.name;\n        if (typeof resolvedConstructorName !== 'string') {\n          resolvedConstructorName =\n            Object.getPrototypeOf(data).constructor.name;\n        }\n        if (typeof resolvedConstructorName === 'string') {\n          displayName = resolvedConstructorName;\n        } else {\n          displayName = 'Thenable';\n        }\n      }\n      switch (data.status) {\n        case 'pending':\n          return `pending ${displayName}`;\n        case 'fulfilled':\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(data.value, false);\n            return `fulfilled ${displayName} {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `fulfilled ${displayName} {…}`;\n          }\n        case 'rejected':\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(data.reason, false);\n            return `rejected ${displayName} {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `rejected ${displayName} {…}`;\n          }\n        default:\n          return displayName;\n      }\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{…}';\n      }\n    case 'error':\n      return truncateForDisplay(String(data));\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return String(data);\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n/**\n * Should be used when treating url as a Chrome Resource URL.\n */\nexport function normalizeUrlIfValid(url: string): string {\n  try {\n    // TODO: Chrome will use the basepath to create a Resource URL.\n    return new URL(url).toString();\n  } catch {\n    // Giving up if it's not a valid URL without basepath\n    return url;\n  }\n}\n\nexport function getIsReloadAndProfileSupported(): boolean {\n  // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n  // If not, features like reload-and-profile will not work correctly and must be disabled.\n  let isBackendStorageAPISupported = false;\n  try {\n    localStorage.getItem('test');\n    isBackendStorageAPISupported = true;\n  } catch (error) {}\n\n  return isBackendStorageAPISupported && isSynchronousXHRSupported();\n}\n\n// Expected to be used only by browser extension and react-devtools-inline\nexport function getIfReloadedAndProfiling(): boolean {\n  return (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  );\n}\n\nexport function getProfilingSettings(): ProfilingSettings {\n  return {\n    recordChangeDescriptions:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n      'true',\n    recordTimeline:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_TIMELINE_KEY) === 'true',\n  };\n}\n\nexport function onReloadAndProfile(\n  recordChangeDescriptions: boolean,\n  recordTimeline: boolean,\n): void {\n  sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n    recordChangeDescriptions ? 'true' : 'false',\n  );\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_TIMELINE_KEY,\n    recordTimeline ? 'true' : 'false',\n  );\n}\n\nexport function onReloadAndProfileFlagsReset(): void {\n  sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_TIMELINE_KEY);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays, other complex iteratable objects (e.g. Map, Set, ImmutableJS) or Promises need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      typeof data.constructor !== 'function' ||\n      typeof data.constructor.name !== 'string' ||\n      data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      const arr: Array<Object> = [];\n      for (let i = 0; i < data.length; i++) {\n        arr[i] = dehydrateKey(\n          data,\n          i,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n      return arr;\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            typeof data.constructor !== 'function' ||\n            typeof data.constructor.name !== 'string' ||\n            data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'thenable':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return {\n          inspectable:\n            data.status === 'fulfilled' || data.status === 'rejected',\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name: data.toString(),\n          type,\n        };\n      }\n\n      switch (data.status) {\n        case 'fulfilled': {\n          const unserializableValue: Unserializable = {\n            unserializable: true,\n            type: type,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: 'fulfilled Thenable',\n          };\n\n          unserializableValue.value = dehydrate(\n            data.value,\n            cleaned,\n            unserializable,\n            path.concat(['value']),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n\n          unserializable.push(path);\n\n          return unserializableValue;\n        }\n        case 'rejected': {\n          const unserializableValue: Unserializable = {\n            unserializable: true,\n            type: type,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: 'rejected Thenable',\n          };\n\n          unserializableValue.reason = dehydrate(\n            data.reason,\n            cleaned,\n            unserializable,\n            path.concat(['reason']),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n\n          unserializable.push(path);\n\n          return unserializableValue;\n        }\n        default:\n          cleaned.push(path);\n          return {\n            inspectable: false,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: data.toString(),\n            type,\n          };\n      }\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrateKey(\n            data,\n            key,\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.constructor !== 'function' ||\n          typeof data.constructor.name !== 'string'\n            ? ''\n            : data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n    }\n    case 'error': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.name,\n      };\n\n      // name, message, stack and cause are not enumerable yet still interesting.\n      value.message = dehydrate(\n        data.message,\n        cleaned,\n        unserializable,\n        path.concat(['message']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n      value.stack = dehydrate(\n        data.stack,\n        cleaned,\n        unserializable,\n        path.concat(['stack']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n\n      if ('cause' in data) {\n        value.cause = dehydrate(\n          data.cause,\n          cleaned,\n          unserializable,\n          path.concat(['cause']),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n    }\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nfunction dehydrateKey(\n  parent: Object,\n  key: number | string | symbol,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  try {\n    return dehydrate(\n      parent[key],\n      cleaned,\n      unserializable,\n      path,\n      isPathAllowed,\n      level,\n    );\n  } catch (error) {\n    let preview = '';\n    if (\n      typeof error === 'object' &&\n      error !== null &&\n      typeof error.stack === 'string'\n    ) {\n      preview = error.stack;\n    } else if (typeof error === 'string') {\n      preview = error;\n    }\n    cleaned.push(path);\n    return {\n      inspectable: false,\n      preview_short: '[Exception]',\n      preview_long: preview ? '[Exception: ' + preview + ']' : '[Exception]',\n      name: preview,\n      type: 'unknown',\n    };\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ReactOwnerStackFrames.\n\nexport function formatOwnerStack(error: Error): string {\n  const prevPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n  const stack = error.stack;\n  Error.prepareStackTrace = prevPrepareStackTrace;\n  return formatOwnerStackString(stack);\n}\n\nexport function formatOwnerStackString(stack: string): string {\n  if (stack.startsWith('Error: react-stack-top-frame\\n')) {\n    // V8's default formatting prefixes with the error message which we\n    // don't want/need.\n    stack = stack.slice(29);\n  }\n  let idx = stack.indexOf('\\n');\n  if (idx !== -1) {\n    // Pop the JSX frame.\n    stack = stack.slice(idx + 1);\n  }\n  idx = stack.indexOf('react_stack_bottom_frame');\n  if (idx === -1) {\n    idx = stack.indexOf('react-stack-bottom-frame');\n  }\n  if (idx !== -1) {\n    idx = stack.lastIndexOf('\\n', idx);\n  }\n  if (idx !== -1) {\n    // Cut off everything after the bottom frame since it'll be internals.\n    stack = stack.slice(0, idx);\n  } else {\n    // We didn't find any internal callsite out to user space.\n    // This means that this was called outside an owner or the owner is fully internal.\n    // To keep things light we exclude the entire trace in this case.\n    return '';\n  }\n  return stack;\n}\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from 'react-devtools-shared/src/hydration';\nimport isArray from 'shared/isArray';\n\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\nexport {default as formatWithStyles} from './formatWithStyles';\nexport {default as formatConsoleArguments} from './formatConsoleArguments';\n\nimport {formatOwnerStackString} from '../shared/DevToolsOwnerStack';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof data === 'function') {\n    return data.toString();\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key: string, value: any) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\nfunction safeToString(val: any): string {\n  try {\n    return String(val);\n  } catch (err) {\n    if (typeof val === 'object') {\n      // An object with no prototype and no `[Symbol.toPrimitive]()`, `toString()`, and `valueOf()` methods would throw.\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#string_coercion\n      return '[object Object]';\n    }\n    throw err;\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\nexport function formatConsoleArgumentsToSingleString(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = safeToString(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      // $FlowFixMe[incompatible-call]\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            // $FlowFixMe[unsafe-addition]\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + safeToString(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\nfunction extractLocation(\n  url: string,\n): null | {sourceURL: string, line?: string, column?: string} {\n  if (url.indexOf(':') === -1) {\n    return null;\n  }\n\n  // remove any parentheses from start and end\n  const withoutParentheses = url.replace(/^\\(+/, '').replace(/\\)+$/, '');\n  const locationParts = /(at )?(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(\n    withoutParentheses,\n  );\n\n  if (locationParts == null) {\n    return null;\n  }\n\n  const [, , sourceURL, line, column] = locationParts;\n  return {sourceURL, line, column};\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nfunction parseSourceFromChromeStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n\n    const locationInParenthesesMatch = sanitizedFrame.match(/ (\\(.+\\)$)/);\n    const possibleLocation = locationInParenthesesMatch\n      ? locationInParenthesesMatch[1]\n      : sanitizedFrame;\n\n    const location = extractLocation(possibleLocation);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nfunction parseSourceFromFirefoxStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n    const frameWithoutFunctionName = sanitizedFrame.replace(\n      /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n      '',\n    );\n\n    const location = extractLocation(frameWithoutFunctionName);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nexport function parseSourceFromComponentStack(\n  componentStack: string,\n): Source | null {\n  if (componentStack.match(CHROME_STACK_REGEXP)) {\n    return parseSourceFromChromeStack(componentStack);\n  }\n\n  return parseSourceFromFirefoxStack(componentStack);\n}\n\nlet collectedLocation: Source | null = null;\n\nfunction collectStackTrace(\n  error: Error,\n  structuredStackTrace: CallSite[],\n): string {\n  let result: null | Source = null;\n  // Collect structured stack traces from the callsites.\n  // We mirror how V8 serializes stack frames and how we later parse them.\n  for (let i = 0; i < structuredStackTrace.length; i++) {\n    const callSite = structuredStackTrace[i];\n    const name = callSite.getFunctionName();\n    if (\n      name != null &&\n      (name.includes('react_stack_bottom_frame') ||\n        name.includes('react-stack-bottom-frame'))\n    ) {\n      // We pick the last frame that matches before the bottom frame since\n      // that will be immediately inside the component as opposed to some helper.\n      // If we don't find a bottom frame then we bail to string parsing.\n      collectedLocation = result;\n      // Skip everything after the bottom frame since it'll be internals.\n      break;\n    } else {\n      const sourceURL = callSite.getScriptNameOrSourceURL();\n      const line =\n        // $FlowFixMe[prop-missing]\n        typeof callSite.getEnclosingLineNumber === 'function'\n          ? (callSite: any).getEnclosingLineNumber()\n          : callSite.getLineNumber();\n      const col =\n        // $FlowFixMe[prop-missing]\n        typeof callSite.getEnclosingColumnNumber === 'function'\n          ? (callSite: any).getEnclosingColumnNumber()\n          : callSite.getColumnNumber();\n      if (!sourceURL || !line || !col) {\n        // Skip eval etc. without source url. They don't have location.\n        continue;\n      }\n      result = {\n        sourceURL,\n        line: line,\n        column: col,\n      };\n    }\n  }\n  // At the same time we generate a string stack trace just in case someone\n  // else reads it.\n  const name = error.name || 'Error';\n  const message = error.message || '';\n  let stack = name + ': ' + message;\n  for (let i = 0; i < structuredStackTrace.length; i++) {\n    stack += '\\n    at ' + structuredStackTrace[i].toString();\n  }\n  return stack;\n}\n\nexport function parseSourceFromOwnerStack(error: Error): Source | null {\n  // First attempt to collected the structured data using prepareStackTrace.\n  collectedLocation = null;\n  const previousPrepare = Error.prepareStackTrace;\n  Error.prepareStackTrace = collectStackTrace;\n  let stack;\n  try {\n    stack = error.stack;\n  } catch (e) {\n    // $FlowFixMe[incompatible-type] It does accept undefined.\n    Error.prepareStackTrace = undefined;\n    stack = error.stack;\n  } finally {\n    Error.prepareStackTrace = previousPrepare;\n  }\n  if (collectedLocation !== null) {\n    return collectedLocation;\n  }\n  if (stack == null) {\n    return null;\n  }\n  // Fallback to parsing the string form.\n  const componentStack = formatOwnerStackString(stack);\n  return parseSourceFromComponentStack(componentStack);\n}\n\n// 0.123456789 => 0.123\n// Expects high-resolution timestamp in milliseconds, like from performance.now()\n// Mainly used for optimizing the size of serialized profiling payload\nexport function formatDurationToMicrosecondsGranularity(\n  duration: number,\n): number {\n  return Math.round(duration * 1000) / 1000;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: HTMLElement): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n\nexport function extractHOCNames(displayName: string): {\n  baseComponentName: string,\n  hocNames: string[],\n} {\n  if (!displayName) return {baseComponentName: '', hocNames: []};\n\n  const hocRegex = /([A-Z][a-zA-Z0-9]*?)\\((.*)\\)/g;\n  const hocNames: string[] = [];\n  let baseComponentName = displayName;\n  let match;\n\n  while ((match = hocRegex.exec(baseComponentName)) != null) {\n    if (Array.isArray(match)) {\n      const [, hocName, inner] = match;\n      hocNames.push(hocName);\n      baseComponentName = inner;\n    }\n  }\n\n  return {\n    baseComponentName,\n    hocNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px × ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: $ReadOnlyArray<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      // $FlowFixMe[incompatible-use]\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const ownerName = this.agent.getComponentNameForHostInstance(node);\n      if (ownerName) {\n        name += ' (in ' + ownerName + ')';\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\nimport type {HostInstance} from '../../types';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nfunction hideOverlayNative(agent: Agent): void {\n  agent.emit('hideNativeHighlight');\n}\n\nfunction hideOverlayWeb(): void {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function hideOverlay(agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? hideOverlayNative(agent)\n    : hideOverlayWeb();\n}\n\nfunction showOverlayNative(\n  elements: $ReadOnlyArray<HostInstance>,\n  agent: Agent,\n): void {\n  agent.emit('showNativeHighlight', elements);\n}\n\nfunction showOverlayWeb(\n  elements: $ReadOnlyArray<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n\nexport function showOverlay(\n  elements: $ReadOnlyArray<HostInstance>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  return isReactNativeEnvironment()\n    ? showOverlayNative(elements, agent)\n    : showOverlayWeb(\n        (elements: $ReadOnlyArray<any>),\n        componentName,\n        agent,\n        hideAfterTimeout,\n      );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener('clearHostInstanceHighlight', clearHostInstanceHighlight);\n  bridge.addListener('highlightHostInstance', highlightHostInstance);\n  bridge.addListener('shutdown', stopInspectingHost);\n  bridge.addListener('startInspectingHost', startInspectingHost);\n  bridge.addListener('stopInspectingHost', stopInspectingHost);\n\n  function startInspectingHost() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingHost() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearHostInstanceHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightHostInstance({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openBuiltinElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openBuiltinElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasElementWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes = renderer.findHostInstancesForElementID(id);\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openBuiltinElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToBuiltinElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingHost();\n\n    bridge.send('stopInspectingHost', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectElementForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectElementForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectElementForNode = (node: HTMLElement) => {\n    const id = agent.getIDForHostInstance(node);\n    if (id !== null) {\n      bridge.send('selectElement', id);\n    }\n  };\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {HostInstance} from '../../types';\nimport type Agent from '../../agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nfunction drawNative(nodeToData: Map<HostInstance, Data>, agent: Agent) {\n  const nodesToDraw = [];\n  iterateNodes(nodeToData, ({color, node}) => {\n    nodesToDraw.push({node, color});\n  });\n\n  agent.emit('drawTraceUpdates', nodesToDraw);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n  agent.emit('drawGroupedTraceUpdatesWithNames', mergedNodes);\n}\n\nfunction drawWeb(nodeToData: Map<HostInstance, Data>) {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const dpr = window.devicePixelRatio || 1;\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth * dpr;\n  canvasFlow.height = window.innerHeight * dpr;\n  canvasFlow.style.width = `${window.innerWidth}px`;\n  canvasFlow.style.height = `${window.innerHeight}px`;\n\n  const context = canvasFlow.getContext('2d');\n  context.scale(dpr, dpr);\n\n  context.clearRect(0, 0, canvasFlow.width / dpr, canvasFlow.height / dpr);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n\n  mergedNodes.forEach(group => {\n    drawGroupBorders(context, group);\n    drawGroupLabel(context, group);\n  });\n\n  if (canvas !== null) {\n    if (nodeToData.size === 0 && canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n      return;\n    }\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n    if (canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n    }\n    // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n    canvas.showPopover();\n  }\n}\n\ntype GroupItem = {\n  rect: Rect,\n  color: string,\n  displayName: string | null,\n  count: number,\n};\n\nexport type {GroupItem};\n\nexport function groupAndSortNodes(\n  nodeToData: Map<HostInstance, Data>,\n): Array<Array<GroupItem>> {\n  const positionGroups: Map<string, Array<GroupItem>> = new Map();\n\n  iterateNodes(nodeToData, ({rect, color, displayName, count}) => {\n    if (!rect) return;\n    const key = `${rect.left},${rect.top}`;\n    if (!positionGroups.has(key)) positionGroups.set(key, []);\n    positionGroups.get(key)?.push({rect, color, displayName, count});\n  });\n\n  return Array.from(positionGroups.values()).sort((groupA, groupB) => {\n    const maxCountA = Math.max(...groupA.map(item => item.count));\n    const maxCountB = Math.max(...groupB.map(item => item.count));\n    return maxCountA - maxCountB;\n  });\n}\n\nfunction drawGroupBorders(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  group.forEach(({color, rect}) => {\n    context.beginPath();\n    context.strokeStyle = color;\n    context.rect(rect.left, rect.top, rect.width - 1, rect.height - 1);\n    context.stroke();\n  });\n}\n\nfunction drawGroupLabel(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  const mergedName = group\n    .map(({displayName, count}) =>\n      displayName ? `${displayName}${count > 1 ? ` x${count}` : ''}` : '',\n    )\n    .filter(Boolean)\n    .join(', ');\n\n  if (mergedName) {\n    drawLabel(context, group[0].rect, mergedName, group[0].color);\n  }\n}\n\nexport function draw(nodeToData: Map<HostInstance, Data>, agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? drawNative(nodeToData, agent)\n    : drawWeb(nodeToData);\n}\n\ntype DataWithColorAndNode = {\n  ...Data,\n  color: string,\n  node: HostInstance,\n};\n\nfunction iterateNodes(\n  nodeToData: Map<HostInstance, Data>,\n  execute: (data: DataWithColorAndNode) => void,\n) {\n  nodeToData.forEach((data, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, data.count - 1);\n    const color = COLORS[colorIndex];\n    execute({\n      color,\n      node,\n      count: data.count,\n      displayName: data.displayName,\n      expirationTime: data.expirationTime,\n      lastMeasuredAt: data.lastMeasuredAt,\n      rect: data.rect,\n    });\n  });\n}\n\nfunction drawLabel(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  text: string,\n  color: string,\n): void {\n  const {left, top} = rect;\n  context.font = '10px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n\n  const padding = 2;\n  const textHeight = 14;\n\n  const metrics = context.measureText(text);\n  const backgroundWidth = metrics.width + padding * 2;\n  const backgroundHeight = textHeight;\n  const labelX = left;\n  const labelY = top - backgroundHeight;\n\n  context.fillStyle = color;\n  context.fillRect(labelX, labelY, backgroundWidth, backgroundHeight);\n\n  context.fillStyle = '#000000';\n  context.fillText(\n    text,\n    labelX + backgroundWidth / 2,\n    labelY + backgroundHeight / 2,\n  );\n}\n\nfunction destroyNative(agent: Agent) {\n  agent.emit('disableTraceUpdates');\n}\n\nfunction destroyWeb() {\n  if (canvas !== null) {\n    if (canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n    }\n\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API and loses canvas nullability tracking\n    if (canvas.parentNode != null) {\n      // $FlowFixMe[incompatible-call]: Flow doesn't track that canvas is non-null here\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nexport function destroy(agent: Agent): void {\n  return isReactNativeEnvironment() ? destroyNative(agent) : destroyWeb();\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.setAttribute('popover', 'manual');\n\n  // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {extractHOCNames, getNestedBoundingClientRect} from '../utils';\n\nimport type {HostInstance} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Markers for different types of HOCs\nconst HOC_MARKERS = new Map([\n  ['Forget', '✨'],\n  ['Memo', '🧠'],\n]);\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n  displayName: string | null,\n};\n\nconst nodeToData: Map<HostInstance, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<HostInstance>): void {\n  if (!isEnabled) return;\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    let displayName = agent.getComponentNameForHostInstance(node);\n    if (displayName) {\n      const {baseComponentName, hocNames} = extractHOCNames(displayName);\n\n      const markers = hocNames.map(hoc => HOC_MARKERS.get(hoc) || '').join('');\n\n      const enhancedDisplayName = markers\n        ? `${markers}${baseComponentName}`\n        : baseComponentName;\n\n      displayName = enhancedDisplayName;\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n      displayName,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x – 4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightHostInstance = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openBuiltinElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  componentFilters: Array<ComponentFilter>,\n};\n\nexport type BackendEvents = {\n  backendInitialized: [],\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isReloadAndProfileSupportedByBackend: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  environmentNames: [Array<string>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectElement: [number],\n  shutdown: [],\n  stopInspectingHost: [boolean],\n  syncSelectionFromBuiltinElementsPanel: [],\n  syncSelectionToBuiltinElementsPanel: [],\n  unsupportedRendererVersion: [],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n\n  hookSettings: [$ReadOnly<DevToolsHookSettings>],\n};\n\ntype StartProfilingParams = ProfilingSettings;\ntype ReloadAndProfilingParams = ProfilingSettings;\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForElementID: [ElementAndRendererID],\n  clearHostInstanceHighlight: [],\n  clearWarningsForElementID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  extensionComponentsPanelShown: [],\n  extensionComponentsPanelHidden: [],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getIfHasUnsupportedRendererVersion: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightHostInstance: [HighlightHostInstance],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [ReloadAndProfilingParams],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingHost: [],\n  startProfiling: [StartProfilingParams],\n  stopInspectingHost: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  getEnvironmentNames: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n\n  getHookSettings: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _scheduledFlush: boolean = false;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._scheduledFlush) {\n      this._scheduledFlush = true;\n      // $FlowFixMe\n      if (typeof devtoolsJestTestScheduler === 'function') {\n        // This exists just for our own jest tests.\n        // They're written in such a way that we can neither mock queueMicrotask\n        // because then we break React DOM and we can't not mock it because then\n        // we can't synchronously flush it. So they need to be rewritten.\n        // $FlowFixMe\n        devtoolsJestTestScheduler(this._flush); // eslint-disable-line no-undef\n      } else {\n        queueMicrotask(this._flush);\n      }\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n    try {\n      if (this._messageQueue.length) {\n        for (let i = 0; i < this._messageQueue.length; i += 2) {\n          this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n        }\n        this._messageQueue.length = 0;\n      }\n    } finally {\n      // We set this at the end in case new messages are added synchronously above.\n      // They're already handled so they shouldn't queue more flushes.\n      this._scheduledFlush = false;\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport {SESSION_STORAGE_LAST_SELECTION_KEY, __DEBUG__} from '../constants';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  HostInstance,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  DevToolsHookSettings,\n} from './types';\nimport type {ComponentFilter} from 'react-devtools-shared/src/frontend/types';\nimport type {GroupItem} from './views/TraceUpdates/canvas';\nimport {isReactNativeEnvironment} from './utils';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from '../storage';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [HostInstance],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<HostInstance>],\n  drawTraceUpdates: [Array<HostInstance>],\n  drawGroupedTraceUpdatesWithNames: [Array<Array<GroupItem>>],\n  disableTraceUpdates: [],\n  getIfHasUnsupportedRendererVersion: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  getHookSettings: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n  _onReloadAndProfile:\n    | ((recordChangeDescriptions: boolean, recordTimeline: boolean) => void)\n    | void;\n\n  constructor(\n    bridge: BackendBridge,\n    isProfiling: boolean = false,\n    onReloadAndProfile?: (\n      recordChangeDescriptions: boolean,\n      recordTimeline: boolean,\n    ) => void,\n  ) {\n    super();\n\n    this._isProfiling = isProfiling;\n    this._onReloadAndProfile = onReloadAndProfile;\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForElementID', this.clearErrorsForElementID);\n    bridge.addListener(\n      'clearWarningsForElementID',\n      this.clearWarningsForElementID,\n    );\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromBuiltinElementsPanel',\n      this.syncSelectionFromBuiltinElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n\n    bridge.addListener('updateHookSettings', this.updateHookSettings);\n    bridge.addListener('getHookSettings', this.getHookSettings);\n\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('getEnvironmentNames', this.getEnvironmentNames);\n    bridge.addListener(\n      'getIfHasUnsupportedRendererVersion',\n      this.getIfHasUnsupportedRendererVersion,\n    );\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n\n    // By this time, Store should already be initialized and intercept events\n    bridge.send('backendInitialized');\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForElementID(id);\n    }\n  };\n\n  clearWarningsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForElementID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getIDForHostInstance(target: HostInstance): number | null {\n    if (isReactNativeEnvironment() || typeof target.nodeType !== 'number') {\n      // In React Native or non-DOM we simply pick any renderer that has a match.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        try {\n          const match = renderer.getElementIDForHostInstance(target);\n          if (match != null) {\n            return match;\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    } else {\n      // In the DOM we use a smarter mechanism to find the deepest a DOM node\n      // that is registered if there isn't an exact match.\n      let bestMatch: null | Element = null;\n      let bestRenderer: null | RendererInterface = null;\n      // Find the nearest ancestor which is mounted by a React.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        const nearestNode: null | Element = renderer.getNearestMountedDOMNode(\n          (target: any),\n        );\n        if (nearestNode !== null) {\n          if (nearestNode === target) {\n            // Exact match we can exit early.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            break;\n          }\n          if (bestMatch === null || bestMatch.contains(nearestNode)) {\n            // If this is the first match or the previous match contains the new match,\n            // so the new match is a deeper and therefore better match.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n          }\n        }\n      }\n      if (bestRenderer != null && bestMatch != null) {\n        try {\n          return bestRenderer.getElementIDForHostInstance(bestMatch);\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    }\n  }\n\n  getComponentNameForHostInstance(target: HostInstance): string | null {\n    // We duplicate this code from getIDForHostInstance to avoid an object allocation.\n    if (isReactNativeEnvironment() || typeof target.nodeType !== 'number') {\n      // In React Native or non-DOM we simply pick any renderer that has a match.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        try {\n          const id = renderer.getElementIDForHostInstance(target);\n          if (id) {\n            return renderer.getDisplayNameForElementID(id);\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    } else {\n      // In the DOM we use a smarter mechanism to find the deepest a DOM node\n      // that is registered if there isn't an exact match.\n      let bestMatch: null | Element = null;\n      let bestRenderer: null | RendererInterface = null;\n      // Find the nearest ancestor which is mounted by a React.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        const nearestNode: null | Element = renderer.getNearestMountedDOMNode(\n          (target: any),\n        );\n        if (nearestNode !== null) {\n          if (nearestNode === target) {\n            // Exact match we can exit early.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            break;\n          }\n          if (bestMatch === null || bestMatch.contains(nearestNode)) {\n            // If this is the first match or the previous match contains the new match,\n            // so the new match is a deeper and therefore better match.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n          }\n        }\n      }\n      if (bestRenderer != null && bestMatch != null) {\n        try {\n          const id = bestRenderer.getElementIDForHostInstance(bestMatch);\n          if (id) {\n            return bestRenderer.getDisplayNameForElementID(id);\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    }\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        // Throttle persisting the selection.\n        this._lastSelectedElementID = id;\n        this._lastSelectedRendererID = rendererID;\n        if (!this._persistSelectionTimerScheduled) {\n          this._persistSelectionTimerScheduled = true;\n          setTimeout(this._persistSelection, 1000);\n        }\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in built-in Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  onReloadAndProfileSupportedByHost: () => void = () => {\n    this._bridge.send('isReloadAndProfileSupportedByBackend', true);\n  };\n\n  reloadAndProfile: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    if (typeof this._onReloadAndProfile === 'function') {\n      this._onReloadAndProfile(recordChangeDescriptions, recordTimeline);\n    }\n\n    // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n    // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n    // The agent can't do this in a way that is renderer agnostic.\n    this._bridge.send('reloadAppForProfiling');\n  };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: HostInstance): void {\n    const id = this.getIDForHostInstance(target);\n    if (id !== null) {\n      this._bridge.send('selectElement', id);\n    }\n  }\n\n  registerRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromBuiltinElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n\n    this._bridge.removeAllListeners();\n    this.removeAllListeners();\n  };\n\n  startProfiling: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    this._isProfiling = true;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.startProfiling(recordChangeDescriptions, recordTimeline);\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingHost', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      // Propagate the settings, so Backend can subscribe to it and modify hook\n      this.emit('updateHookSettings', settings);\n    };\n\n  getHookSettings: () => void = () => {\n    this.emit('getHookSettings');\n  };\n\n  onHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      this._bridge.send('hookSettings', settings);\n    };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererIDString in this._rendererInterfaces) {\n        const rendererID = +rendererIDString;\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        if (this._lastSelectedRendererID === rendererID) {\n          // Changing component filters will unmount and remount the DevTools tree.\n          // Track the last selection's path so we can restore the selection.\n          const path = renderer.getPathForElement(this._lastSelectedElementID);\n          if (path !== null) {\n            renderer.setTrackedPath(path);\n            this._persistedSelection = {\n              rendererID,\n              path,\n            };\n          }\n        }\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  getEnvironmentNames: () => void = () => {\n    let accumulatedNames = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = this._rendererInterfaces[+rendererID];\n      const names = renderer.getEnvironmentNames();\n      if (accumulatedNames === null) {\n        accumulatedNames = names;\n      } else {\n        for (let i = 0; i < names.length; i++) {\n          if (accumulatedNames.indexOf(names[i]) === -1) {\n            accumulatedNames.push(names[i]);\n          }\n        }\n      }\n    }\n    this._bridge.send('environmentNames', accumulatedNames || []);\n  };\n\n  onTraceUpdates: (nodes: Set<HostInstance>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectElement', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  getIfHasUnsupportedRendererVersion: () => void = () => {\n    this.emit('getIfHasUnsupportedRendererVersion');\n  };\n\n  onUnsupportedRenderer() {\n    this._bridge.send('unsupportedRendererVersion');\n  }\n\n  _persistSelectionTimerScheduled: boolean = false;\n  _lastSelectedRendererID: number = -1;\n  _lastSelectedElementID: number = -1;\n  _persistSelection: any = () => {\n    this._persistSelectionTimerScheduled = false;\n    const rendererID = this._lastSelectedRendererID;\n    const id = this._lastSelectedElementID;\n    // This is throttled, so both renderer and selected ID\n    // might not be available by the time we read them.\n    // This is why we need the defensive checks here.\n    const renderer = this._rendererInterfaces[rendererID];\n    const path = renderer != null ? renderer.getPathForElement(id) : null;\n    if (path !== null) {\n      sessionStorageSetItem(\n        SESSION_STORAGE_LAST_SELECTION_KEY,\n        JSON.stringify(({rendererID, path}: PersistedSelection)),\n      );\n    } else {\n      sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n    }\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {CurrentDispatcherRef} from '../types';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  let suffix = '';\n  if (__IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__) {\n    suffix = ' (<anonymous>)';\n  } else if (__IS_FIREFOX__) {\n    suffix = '@unknown:0:0';\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  // We use a suffix to ensure it gets parsed natively.\n  return '\\n' + prefix + name + suffix;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' [' + env + ']' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n  try {\n    // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n    /**\n     * Finding a common stack frame between sample and control errors can be\n     * tricky given the different types and levels of stack trace truncation from\n     * different JS VMs. So instead we'll attempt to control what that common\n     * frame should be through this object method:\n     * Having both the sample and control errors be in the function under the\n     * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n     * `displayName` properties of the function ensures that a stack\n     * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n     * it for both control and sample stacks.\n     */\n    const RunInRootFrame = {\n      DetermineComponentFrameRoot(): [?string, ?string] {\n        let control;\n        try {\n          // This should throw.\n          if (construct) {\n            // Something should be setting the props in the constructor.\n            const Fake = function () {\n              throw Error();\n            };\n            // $FlowFixMe[prop-missing]\n            Object.defineProperty(Fake.prototype, 'props', {\n              set: function () {\n                // We use a throwing setter instead of frozen or non-writable props\n                // because that won't throw in a non-strict mode function.\n                throw Error();\n              },\n            });\n            if (typeof Reflect === 'object' && Reflect.construct) {\n              // We construct a different control for this case to include any extra\n              // frames added by the construct call.\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x) {\n                control = x;\n              }\n              // $FlowFixMe[prop-missing] found when upgrading Flow\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x) {\n              control = x;\n            }\n            // TODO(luna): This will currently only throw if the function component\n            // tries to access React/ReactDOM/props. We should probably make this throw\n            // in simple components too\n            const maybePromise = fn();\n\n            // If the function component returns a promise, it's likely an async\n            // component, which we don't yet support. Attach a noop catch handler to\n            // silence the error.\n            // TODO: Implement component stacks for async client components?\n            if (maybePromise && typeof maybePromise.catch === 'function') {\n              maybePromise.catch(() => {});\n            }\n          }\n        } catch (sample) {\n          // This is inlined manually because closure doesn't do it for us.\n          if (sample && control && typeof sample.stack === 'string') {\n            return [sample.stack, control.stack];\n          }\n        }\n        return [null, null];\n      },\n    };\n    // $FlowFixMe[prop-missing]\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      'DetermineComponentFrameRoot';\n    const namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      'name',\n    );\n    // Before ES6, the `name` property was not configurable.\n    if (namePropDescriptor && namePropDescriptor.configurable) {\n      // V8 utilizes a function's `name` property when generating a stack trace.\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        // Configurable properties can be updated even if its writable descriptor\n        // is set to `false`.\n        // $FlowFixMe[cannot-write]\n        'name',\n        {value: 'DetermineComponentFrameRoot'},\n      );\n    }\n\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentInfoStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {describeBuiltInComponentFrame} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function getOwnerStackByComponentInfoInDev(\n  componentInfo: ReactComponentInfo,\n): string {\n  try {\n    let info = '';\n\n    // The owner stack of the current component will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, if there is no owner at all, then\n    // there's no stack frame so we add the name of the root component to the stack to know which\n    // component is currently executing.\n    if (!componentInfo.owner && typeof componentInfo.name === 'string') {\n      return describeBuiltInComponentFrame(componentInfo.name);\n    }\n\n    let owner: void | null | ReactComponentInfo = componentInfo;\n\n    while (owner) {\n      const ownerStack: ?Error = owner.debugStack;\n      if (ownerStack != null) {\n        // Server Component\n        owner = owner.owner;\n        if (owner) {\n          // TODO: Should we stash this somewhere for caching purposes?\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This keeps track of Server Component logs which may come from.\n// This is in a shared module because Server Component logs don't come from a specific renderer\n// but can become associated with a Virtual Instance of any renderer.\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\ntype ComponentLogs = {\n  errors: Map<string, number>,\n  errorsCount: number,\n  warnings: Map<string, number>,\n  warningsCount: number,\n};\n\n// This keeps it around as long as the ComponentInfo is alive which\n// lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n// Unless we explicitly clear the logs from a Fiber.\nexport const componentInfoToComponentLogsMap: WeakMap<\n  ReactComponentInfo,\n  ComponentLogs,\n> = new WeakMap();\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from '../types';\n\nimport {getOwnerStackByComponentInfoInDev} from './DevToolsComponentInfoStack';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport {formatConsoleArgumentsToSingleString} from 'react-devtools-shared/src/backend/utils';\n\nfunction supportsConsoleTasks(componentInfo: ReactComponentInfo): boolean {\n  // If this ReactComponentInfo supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!componentInfo.debugTask;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  const {getCurrentComponentInfo} = renderer;\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentComponentInfo();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const enableOwnerStacks = current.debugStack != null;\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByComponentInfoInDev(current);\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const componentInfo = getCurrentComponentInfo();\n    if (componentInfo === null) {\n      // Outside of our render scope.\n      return;\n    }\n\n    if (\n      args.length > 3 &&\n      typeof args[0] === 'string' &&\n      args[0].startsWith('%c%s%c ') &&\n      typeof args[1] === 'string' &&\n      typeof args[2] === 'string' &&\n      typeof args[3] === 'string'\n    ) {\n      // This looks like the badge we prefixed to the log. Our UI doesn't support formatted logs.\n      // We remove the formatting. If the environment of the log is the same as the environment of\n      // the component (the common case) we remove the badge completely otherwise leave it plain\n      const format = args[0].slice(7);\n      const env = args[2].trim();\n      args = args.slice(4);\n      if (env !== componentInfo.env) {\n        args.unshift('[' + env + '] ' + format);\n      } else {\n        args.unshift(format);\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0,\n        warnings: new Map(),\n        warningsCount: 0,\n      };\n      componentInfoToComponentLogsMap.set(componentInfo, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit this tree to Fiber.\n  }\n\n  return {\n    cleanup() {},\n    clearErrorsAndWarnings() {},\n    clearErrorsForElementID() {},\n    clearWarningsForElementID() {},\n    getSerializedElementValueByPath() {},\n    deletePath() {},\n    findHostInstancesForElementID() {\n      return null;\n    },\n    flushInitialOperations() {},\n    getBestMatchForTrackedPath() {\n      return null;\n    },\n    getComponentStack,\n    getDisplayNameForElementID() {\n      return null;\n    },\n    getNearestMountedDOMNode() {\n      return null;\n    },\n    getElementIDForHostInstance() {\n      return null;\n    },\n    getInstanceAndStyle() {\n      return {\n        instance: null,\n        style: null,\n      };\n    },\n    getOwnersList() {\n      return null;\n    },\n    getPathForElement() {\n      return null;\n    },\n    getProfilingData() {\n      throw new Error('getProfilingData not supported by this renderer');\n    },\n    handleCommitFiberRoot() {},\n    handleCommitFiberUnmount() {},\n    handlePostCommitFiberRoot() {},\n    hasElementWithId() {\n      return false;\n    },\n    inspectElement(\n      requestID: number,\n      id: number,\n      path: Array<string | number> | null,\n    ) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    },\n    logElementToConsole() {},\n    getElementAttributeByPath() {},\n    getElementSourceFunctionById() {},\n    onErrorOrWarning,\n    overrideError() {},\n    overrideSuspense() {},\n    overrideValueAtPath() {},\n    renamePath() {},\n    renderer,\n    setTraceUpdatesEnabled() {},\n    setTrackedPath() {},\n    startProfiling() {},\n    stopProfiling() {},\n    storeAsGlobal() {},\n    updateComponentFilters() {},\n    getEnvironmentNames() {\n      return [];\n    },\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.transitional.element)';\nexport const LEGACY_ELEMENT_NUMBER = 0xeac7;\nexport const LEGACY_ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from '../types';\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostHoistable:\n    case HostSingleton:\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      // TODO: When we support Thenables as component types we should rename this.\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case ViewTransitionComponent:\n      return describeBuiltInComponentFrame('ViewTransition');\n    case ActivityComponent:\n      return describeBuiltInComponentFrame('Activity');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n\nexport function getSourceLocationByFiber(\n  workTagMap: WorkTagMap,\n  fiber: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): null | string {\n  // This is like getStackByFiberInDevAndProd but just the first stack frame.\n  try {\n    const info = describeFiber(workTagMap, fiber, currentDispatcherRef);\n    if (info !== '') {\n      return info.slice(1); // skip the leading newline\n    }\n  } catch (x) {\n    console.error(x);\n  }\n  return null;\n}\n\nexport function supportsConsoleTasks(fiber: Fiber): boolean {\n  // If this Fiber supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!fiber._debugTask;\n}\n\nexport function supportsOwnerStacks(fiber: Fiber): boolean {\n  // If this Fiber supports owner stacks then it'll have the _debugStack field.\n  // It might be null but that still means we should use the owner stack logic.\n  return fiber._debugStack !== undefined;\n}\n\nexport function getOwnerStackByFiberInDev(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostText,\n    HostComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = workTagMap;\n  try {\n    let info = '';\n\n    if (workInProgress.tag === HostText) {\n      // Text nodes never have an owner/stack because they're not created through JSX.\n      // We use the parent since text nodes are always created through a host parent.\n      workInProgress = (workInProgress.return: any);\n    }\n\n    // The owner stack of the current fiber will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, for built-ins there is no such\n    // named stack frame and it would be ignored as being internal anyway. Therefore we add\n    // add one extra frame just to describe the \"current\" built-in component by name.\n    switch (workInProgress.tag) {\n      case HostHoistable:\n      case HostSingleton:\n      case HostComponent:\n        info += describeBuiltInComponentFrame(workInProgress.type);\n        break;\n      case SuspenseComponent:\n        info += describeBuiltInComponentFrame('Suspense');\n        break;\n      case SuspenseListComponent:\n        info += describeBuiltInComponentFrame('SuspenseList');\n        break;\n      case ViewTransitionComponent:\n        info += describeBuiltInComponentFrame('ViewTransition');\n        break;\n      case ActivityComponent:\n        info += describeBuiltInComponentFrame('Activity');\n        break;\n    }\n\n    let owner: void | null | Fiber | ReactComponentInfo = workInProgress;\n\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const fiber: Fiber = (owner: any);\n        owner = fiber._debugOwner;\n        let debugStack = fiber._debugStack;\n        // If we don't actually print the stack if there is no owner of this JSX element.\n        // In a real app it's typically not useful since the root app is always controlled\n        // by the framework. These also tend to have noisy stacks because they're not rooted\n        // in a React render but in some imperative bootstrapping code. It could be useful\n        // if the element was created in module scope. E.g. hoisted. We could add a a single\n        // stack frame for context for example but it doesn't say much if that's a wrapper.\n        if (owner && debugStack) {\n          if (typeof debugStack !== 'string') {\n            debugStack = formatOwnerStack(debugStack);\n          }\n          if (debugStack !== '') {\n            info += '\\n' + debugStack;\n          }\n        }\n      } else if (owner.debugStack != null) {\n        // Server Component\n        const ownerStack: Error = owner.debugStack;\n        owner = owner.owner;\n        if (owner && ownerStack) {\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button-background-hover': 'rgba(0, 0, 0, 0.2)',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': '#e6e6e6',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button-background-hover': 'rgba(255, 255, 255, 0.2)',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': '#5e6167',\n    '--color-component-badge-background-inverted': '#46494e',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.85)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './fiber/DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (\n  value: boolean,\n  recordTimeline?: boolean,\n) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    // $FlowFixMe[incompatible-type]\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        // $FlowFixMe[incompatible-use]\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    // $FlowFixMe[incompatible-use]\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('commit', lanes);\n\n    // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n    // This issue applies to the User Timing data also.\n    nextRenderShouldStartNewBatch = true;\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('commit');\n    recordReactMeasureCompleted('render-idle');\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'render',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-render-start-${componentName}`);\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'layout-effect-mount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'layout-effect-unmount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-layout-effect-unmount-start-${componentName}`);\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'passive-effect-mount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'passive-effect-unmount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-passive-effect-unmount-start-${componentName}`);\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n    const phase = fiber.alternate === null ? 'mount' : 'update';\n\n    let message = '';\n    if (\n      thrownValue !== null &&\n      typeof thrownValue === 'object' &&\n      typeof thrownValue.message === 'string'\n    ) {\n      message = thrownValue.message;\n    } else if (typeof thrownValue === 'string') {\n      message = thrownValue;\n    }\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      currentTimelineData.thrownErrors.push({\n        componentName,\n        message,\n        phase,\n        timestamp: getRelativeTime(),\n        type: 'thrown-error',\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--error-${componentName}-${phase}-${message}`);\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n    const id = getWakeableID(wakeable);\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n    const phase = fiber.alternate === null ? 'mount' : 'update';\n\n    // Following the non-standard fn.displayName convention,\n    // frameworks like Relay may also annotate Promises with a displayName,\n    // describing what operation/data the thrown Promise is related to.\n    // When this is available we should pass it along to the Timeline.\n    const displayName = (wakeable: any).displayName || '';\n\n    let suspenseEvent: SuspenseEvent | null = null;\n    // TODO (timeline) Record and cache component stack\n    suspenseEvent = {\n      componentName,\n      depth: 0,\n      duration: 0,\n      id: `${id}`,\n      phase,\n      promiseName: displayName,\n      resolution: 'unresolved',\n      timestamp: getRelativeTime(),\n      type: 'suspense',\n      warning: null,\n    };\n\n    if (currentTimelineData) {\n      currentTimelineData.suspenseEvents.push(suspenseEvent);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(\n        `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n      );\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('layout-effects', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('layout-effects');\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('passive-effects', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('passive-effects');\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (nextRenderShouldStartNewBatch) {\n      nextRenderShouldStartNewBatch = false;\n      currentBatchUID++;\n    }\n\n    // If this is a new batch of work, wrap an \"idle\" measure around it.\n    // Log it before the \"render\" measure to preserve the stack ordering.\n    if (\n      currentReactMeasuresStack.length === 0 ||\n      currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n        'render-idle'\n    ) {\n      recordReactMeasureStarted('render-idle', lanes);\n    }\n\n    recordReactMeasureStarted('render', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('render');\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('render');\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentTimelineData) {\n      currentTimelineData.schedulingEvents.push({\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-render',\n        warning: null,\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      currentTimelineData.schedulingEvents.push({\n        componentName,\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-force-update',\n        warning: null,\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      const event: ReactScheduleStateUpdateEvent = {\n        componentName,\n        // Store the parent fibers so we can post process\n        // them after we finish profiling\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-state-update',\n        warning: null,\n      };\n      currentFiberStacks.set(event, getParentFibers(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentTimelineData.schedulingEvents.push(event);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n    }\n  }\n\n  function toggleProfilingStatus(\n    value: boolean,\n    recordTimeline: boolean = false,\n  ) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        if (recordTimeline) {\n          currentTimelineData = {\n            // Session wide metadata; only collected once.\n            internalModuleSourceToRanges,\n            laneToLabelMap: laneToLabelMap || new Map(),\n            reactVersion,\n\n            // Data logged by React during profiling session.\n            componentMeasures: [],\n            schedulingEvents: [],\n            suspenseEvents: [],\n            thrownErrors: [],\n\n            // Data inferred based on what React logs.\n            batchUIDToMeasuresMap: new Map(),\n            duration: 0,\n            laneToReactMeasureMap,\n            startTime: 0,\n\n            // Data only available in Chrome profiles.\n            flamechart: [],\n            nativeEvents: [],\n            networkMeasures: [],\n            otherUserTimingMarks: [],\n            snapshots: [],\n            snapshotHeight: 0,\n          };\n        }\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // This is __EXPENSIVE__.\n        // We could end up with hundreds of state updated, and for each one of them\n        // would try to create a component stack with possibly hundreds of Fibers.\n        // Creating a cache of component stacks won't help, generating a single stack is already expensive enough.\n        // We should find a way to lazily generate component stacks on demand, when user inspects a specific event.\n        // If we succeed with moving React DevTools Timeline Profiler to Performance panel, then Timeline Profiler would probably be removed.\n        // Now that owner stacks are adopted, revisit this again and cache component stacks per Fiber,\n        // but only return them when needed, sending hundreds of component stacks is beyond the Bridge's bandwidth.\n\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactComponentInfo, ReactDebugInfo} from 'shared/ReactTypes';\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ComponentFilterEnvironmentName,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  ElementTypeViewTransition,\n  ElementTypeActivity,\n  ElementTypeVirtual,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {\n  formatConsoleArgumentsToSingleString,\n  formatDurationToMicrosecondsGranularity,\n  gt,\n  gte,\n  parseSourceFromComponentStack,\n  parseSourceFromOwnerStack,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from '../utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from '../shared/ReactSymbols';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\n\nimport {\n  getStackByFiberInDevAndProd,\n  getOwnerStackByFiberInDev,\n  supportsOwnerStacks,\n  supportsConsoleTasks,\n} from './DevToolsFiberComponentStack';\n\n// $FlowFixMe[method-unbinding]\nconst toString = Object.prototype.toString;\n\nfunction isError(object: mixed) {\n  return toString.call(object) === '[object Error]';\n}\n\nimport {getStyleXData} from '../StyleX/utils';\nimport {createProfilingHooks} from '../profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from '../profilingHooks';\nimport type {Fiber, FiberRoot} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n  ProfilingSettings,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport {getSourceLocationByFiber} from './DevToolsFiberComponentStack';\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\n// Kinds\nconst FIBER_INSTANCE = 0;\nconst VIRTUAL_INSTANCE = 1;\nconst FILTERED_FIBER_INSTANCE = 2;\n\n// This type represents a stateful instance of a Client Component i.e. a Fiber pair.\n// These instances also let us track stateful DevTools meta data like id and warnings.\ntype FiberInstance = {\n  kind: 0,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // source location of this component function, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  data: Fiber, // one of a Fiber pair\n};\n\nfunction createFiberInstance(fiber: Fiber): FiberInstance {\n  return {\n    kind: FIBER_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: fiber,\n  };\n}\n\ntype FilteredFiberInstance = {\n  kind: 2,\n  // We exclude id from the type to get errors if we try to access it.\n  // However it is still in the object to preserve hidden class.\n  // id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // always null here.\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  data: Fiber, // one of a Fiber pair\n};\n\n// This is used to represent a filtered Fiber but still lets us find its host instance.\nfunction createFilteredFiberInstance(fiber: Fiber): FilteredFiberInstance {\n  return ({\n    kind: FILTERED_FIBER_INSTANCE,\n    id: 0,\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: fiber,\n  }: any);\n}\n\n// This type represents a stateful instance of a Server Component or a Component\n// that gets optimized away - e.g. call-through without creating a Fiber.\n// It's basically a virtual Fiber. This is not a semantic concept in React.\n// It only exists as a virtual concept to let the same Element in the DevTools\n// persist. To be selectable separately from all ReactComponentInfo and overtime.\ntype VirtualInstance = {\n  kind: 1,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // source location of this server component, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  // The latest info for this instance. This can be updated over time and the\n  // same info can appear in more than once ServerComponentInstance.\n  data: ReactComponentInfo,\n};\n\nfunction createVirtualInstance(\n  debugEntry: ReactComponentInfo,\n): VirtualInstance {\n  return {\n    kind: VIRTUAL_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: debugEntry,\n  };\n}\n\ntype DevToolsInstance = FiberInstance | VirtualInstance | FilteredFiberInstance;\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | string | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n      Throw: 29,\n      ViewTransitionComponent: 30, // Experimental\n      ActivityComponent: 31,\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | string | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        (Array.isArray(fiber.memoizedState?.memoizedState) &&\n          fiber.memoizedState.memoizedState[0]?.[REACT_MEMO_CACHE_SENTINEL]) ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case ActivityComponent:\n        return 'Activity';\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      case ViewTransitionComponent:\n        return 'ViewTransition';\n      case Throw:\n        // This should really never be visible.\n        return 'Error';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// All environment names we've seen so far. This lets us create a list of filters to apply.\n// This should ideally include env of filtered Components too so that you can add those as\n// filters at the same time as removing some other filter.\nconst knownEnvironmentNames: Set<string> = new Set();\n\n// Map of FiberRoot to their root FiberInstance.\nconst rootToFiberInstanceMap: Map<FiberRoot, FiberInstance> = new Map();\n\n// Map of id to FiberInstance or VirtualInstance.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToDevToolsInstanceMap: Map<number, FiberInstance | VirtualInstance> =\n  new Map();\n\n// Map of canonical HostInstances to the nearest parent DevToolsInstance.\nconst publicInstanceToDevToolsInstanceMap: Map<HostInstance, DevToolsInstance> =\n  new Map();\n// Map of resource DOM nodes to all the nearest DevToolsInstances that depend on it.\nconst hostResourceToDevToolsInstanceMap: Map<\n  HostInstance,\n  Set<DevToolsInstance>,\n> = new Map();\n\n// Ideally, this should be injected from Reconciler config\nfunction getPublicInstance(instance: HostInstance): HostInstance {\n  // Typically the PublicInstance and HostInstance is the same thing but not in Fabric.\n  // So we need to detect this and use that as the public instance.\n\n  // React Native. Modern. Fabric.\n  if (typeof instance === 'object' && instance !== null) {\n    if (typeof instance.canonical === 'object' && instance.canonical !== null) {\n      if (\n        typeof instance.canonical.publicInstance === 'object' &&\n        instance.canonical.publicInstance !== null\n      ) {\n        return instance.canonical.publicInstance;\n      }\n    }\n\n    // React Native. Legacy. Paper.\n    if (typeof instance._nativeTag === 'number') {\n      return instance._nativeTag;\n    }\n  }\n\n  // React Web. Usually a DOM element.\n  return instance;\n}\n\nfunction getNativeTag(instance: HostInstance): number | null {\n  if (typeof instance !== 'object' || instance === null) {\n    return null;\n  }\n\n  // Modern. Fabric.\n  if (\n    instance.canonical != null &&\n    typeof instance.canonical.nativeTag === 'number'\n  ) {\n    return instance.canonical.nativeTag;\n  }\n\n  // Legacy.  Paper.\n  if (typeof instance._nativeTag === 'number') {\n    return instance._nativeTag;\n  }\n\n  return null;\n}\n\nfunction aquireHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n}\n\nfunction releaseHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  if (\n    publicInstanceToDevToolsInstanceMap.get(publicInstance) === nearestInstance\n  ) {\n    publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n  }\n}\n\nfunction aquireHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    let resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances === undefined) {\n      resourceInstances = new Set();\n      hostResourceToDevToolsInstanceMap.set(publicInstance, resourceInstances);\n      // Store the first match in the main map for quick access when selecting DOM node.\n      publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n    }\n    resourceInstances.add(nearestInstance);\n  }\n}\n\nfunction releaseHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    const resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances !== undefined) {\n      resourceInstances.delete(nearestInstance);\n      if (resourceInstances.size === 0) {\n        hostResourceToDevToolsInstanceMap.delete(publicInstance);\n        publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n      } else if (\n        publicInstanceToDevToolsInstanceMap.get(publicInstance) ===\n        nearestInstance\n      ) {\n        // This was the first one. Store the next first one in the main map for easy access.\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const firstInstance of resourceInstances) {\n          publicInstanceToDevToolsInstanceMap.set(\n            firstInstance,\n            nearestInstance,\n          );\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    ActivityComponent,\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n    getCurrentFiber,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  type ComponentLogs = {\n    errors: Map<string, number>,\n    errorsCount: number,\n    warnings: Map<string, number>,\n    warningsCount: number,\n  };\n  // Tracks Errors/Warnings logs added to a Fiber. They are added before the commit and get\n  // picked up a FiberInstance. This keeps it around as long as the Fiber is alive which\n  // lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n  // Unless we explicitly clear the logs from a Fiber.\n  const fiberToComponentLogsMap: WeakMap<Fiber, ComponentLogs> = new WeakMap();\n  // Tracks whether we've performed a commit since the last log. This is used to know\n  // whether we received any new logs between the commit and post commit phases. I.e.\n  // if any passive effects called console.warn / console.error.\n  let needsToFlushComponentLogs = false;\n\n  function bruteForceFlushErrorsAndWarnings() {\n    // Refresh error/warning count for all mounted unfiltered Fibers.\n    let hasChanges = false;\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        const componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          hasChanges = true;\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      } else {\n        // Virtual Instances cannot log in passive effects and so never appear here.\n      }\n    }\n    if (hasChanges) {\n      flushPendingEvents();\n    }\n  }\n\n  function clearErrorsAndWarnings() {\n    // Note, this only clears logs for Fibers that have instances. If they're filtered\n    // and then mount, the logs are there. Ensuring we only clear what you've seen.\n    // If we wanted to clear the whole set, we'd replace fiberToComponentLogsMap with a\n    // new WeakMap. It's unclear whether we should clear componentInfoToComponentLogsMap\n    // since it's shared by other renderers but presumably it would.\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        fiberToComponentLogsMap.delete(fiber);\n        if (fiber.alternate) {\n          fiberToComponentLogsMap.delete(fiber.alternate);\n        }\n      } else {\n        componentInfoToComponentLogsMap.delete(devtoolsInstance.data);\n      }\n      const changed = recordConsoleLogs(devtoolsInstance, undefined);\n      if (changed) {\n        updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n      }\n    }\n    flushPendingEvents();\n  }\n\n  function clearConsoleLogsHelper(instanceID: number, type: 'error' | 'warn') {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(instanceID);\n    if (devtoolsInstance !== undefined) {\n      let componentLogsEntry;\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n\n        if (componentLogsEntry === undefined && fiber.alternate !== null) {\n          componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n        }\n      } else {\n        const componentInfo = devtoolsInstance.data;\n        componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n      }\n      if (componentLogsEntry !== undefined) {\n        if (type === 'error') {\n          componentLogsEntry.errors.clear();\n          componentLogsEntry.errorsCount = 0;\n        } else {\n          componentLogsEntry.warnings.clear();\n          componentLogsEntry.warningsCount = 0;\n        }\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          flushPendingEvents();\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      }\n    }\n  }\n\n  function clearErrorsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'error');\n  }\n\n  function clearWarningsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'warn');\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentFiber();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const dispatcherRef = getDispatcherRef(renderer);\n    if (dispatcherRef === undefined) {\n      return null;\n    }\n\n    const enableOwnerStacks = supportsOwnerStacks(current);\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByFiberInDev(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    } else {\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const fiber = getCurrentFiber();\n    if (fiber === null) {\n      // Outside of our render scope.\n      return;\n    }\n    if (type === 'error') {\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true)\n      ) {\n        return;\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n      if (componentLogsEntry !== undefined) {\n        // Use the same set for both Fibers.\n        fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n      }\n    }\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0,\n        warnings: new Map(),\n        warningsCount: 0,\n      };\n      fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit.\n\n    // If the log happened in a passive effect, then this happens after we've\n    // already committed the new tree so the change won't show up until we rerender\n    // that component again. We need to visit a Component with passive effects in\n    // handlePostCommitFiberRoot again to ensure that we flush the changes after passive.\n    needsToFlushComponentLogs = true;\n  }\n\n  function debug(\n    name: string,\n    instance: DevToolsInstance,\n    parentInstance: null | DevToolsInstance,\n    extraString: string = '',\n  ): void {\n    if (__DEBUG__) {\n      const displayName =\n        instance.kind === VIRTUAL_INSTANCE\n          ? instance.data.name || 'null'\n          : instance.data.tag +\n            ':' +\n            (getDisplayNameForFiber(instance.data) || 'null');\n\n      const maybeID =\n        instance.kind === FILTERED_FIBER_INSTANCE ? '<no id>' : instance.id;\n\n      const parentDisplayName =\n        parentInstance === null\n          ? ''\n          : parentInstance.kind === VIRTUAL_INSTANCE\n            ? parentInstance.data.name || 'null'\n            : parentInstance.data.tag +\n              ':' +\n              (getDisplayNameForFiber(parentInstance.data) || 'null');\n\n      const maybeParentID =\n        parentInstance === null ||\n        parentInstance.kind === FILTERED_FIBER_INSTANCE\n          ? '<no id>'\n          : parentInstance.id;\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentInstance ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function debugTree(instance: DevToolsInstance, indent: number = 0) {\n    if (__DEBUG__) {\n      const name =\n        (instance.kind !== VIRTUAL_INSTANCE\n          ? getDisplayNameForFiber(instance.data)\n          : instance.data.name) || '';\n      console.log(\n        '  '.repeat(indent) +\n          '- ' +\n          (instance.kind === FILTERED_FIBER_INSTANCE ? 0 : instance.id) +\n          ' (' +\n          name +\n          ')',\n        'parent',\n        instance.parent === null\n          ? ' '\n          : instance.parent.kind === FILTERED_FIBER_INSTANCE\n            ? 0\n            : instance.parent.id,\n        'next',\n        instance.nextSibling === null ? ' ' : instance.nextSibling.id,\n      );\n      let child = instance.firstChild;\n      while (child !== null) {\n        debugTree(child, indent + 1);\n        child = child.nextSibling;\n      }\n    }\n  }\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n  const hideElementsWithEnvs: Set<string> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<HostInstance> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n    hideElementsWithEnvs.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        case ComponentFilterEnvironmentName:\n          hideElementsWithEnvs.add(componentFilter.value);\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn('⚛ DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when applying filters',\n        );\n      }\n      currentRoot = rootInstance;\n      unmountInstanceRecursively(rootInstance);\n      rootToFiberInstanceMap.delete(root);\n      flushPendingEvents(root);\n      currentRoot = (null: any);\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const current = root.current;\n      const newRoot = createFiberInstance(current);\n      rootToFiberInstanceMap.set(root, newRoot);\n      idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n\n      currentRoot = newRoot;\n      setRootPseudoKey(currentRoot.id, root.current);\n      mountFiberRecursively(root.current, false);\n      flushPendingEvents(root);\n      currentRoot = (null: any);\n    });\n\n    flushPendingEvents();\n\n    needsToFlushComponentLogs = false;\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    return Array.from(knownEnvironmentNames);\n  }\n\n  function shouldFilterVirtual(\n    data: ReactComponentInfo,\n    secondaryEnv: null | string,\n  ): boolean {\n    // For purposes of filtering Server Components are always Function Components.\n    // Environment will be used to filter Server vs Client.\n    // Technically they can be forwardRef and memo too but those filters will go away\n    // as those become just plain user space function components like any HoC.\n    if (hideElementsWithTypes.has(ElementTypeFunction)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = data.name;\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (\n      (data.env == null || hideElementsWithEnvs.has(data.env)) &&\n      (secondaryEnv === null || hideElementsWithEnvs.has(secondaryEnv))\n    ) {\n      // If a Component has two environments, you have to filter both for it not to appear.\n      return true;\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n      case Throw:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (hideElementsWithEnvs.has('Client')) {\n      // If we're filtering out the Client environment we should filter out all\n      // \"Client Components\". Technically that also includes the built-ins but\n      // since that doesn't actually include any additional code loading it's\n      // useful to not filter out the built-ins. Those can be filtered separately.\n      // There's no other way to filter out just Function components on the Client.\n      // Therefore, this only filters Class and Function components.\n      switch (tag) {\n        case ClassComponent:\n        case IncompleteClassComponent:\n        case IncompleteFunctionComponent:\n        case FunctionComponent:\n        case IndeterminateComponent:\n        case ForwardRef:\n        case MemoComponent:\n        case SimpleMemoComponent:\n          return true;\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ActivityComponent:\n        return ElementTypeActivity;\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      case ViewTransitionComponent:\n        return ElementTypeViewTransition;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRoot: FiberInstance = (null: any);\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiber(nearestInstance: DevToolsInstance, fiber: Fiber) {\n    if (forceErrorForFibers.size > 0) {\n      forceErrorForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceErrorForFibers.delete(fiber.alternate);\n      }\n      if (forceErrorForFibers.size === 0 && setErrorHandler != null) {\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n    }\n\n    if (forceFallbackForFibers.size > 0) {\n      forceFallbackForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceFallbackForFibers.delete(fiber.alternate);\n      }\n      if (forceFallbackForFibers.size === 0 && setSuspenseHandler != null) {\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n\n    // TODO: Consider using a WeakMap instead. The only thing where that doesn't work\n    // is React Native Paper which tracks tags but that support is eventually going away\n    // and can use the old findFiberByHostInstance strategy.\n\n    if (fiber.tag === HostHoistable) {\n      releaseHostResource(nearestInstance, fiber.memoizedState);\n    } else if (\n      fiber.tag === HostComponent ||\n      fiber.tag === HostText ||\n      fiber.tag === HostSingleton\n    ) {\n      releaseHostInstance(nearestInstance, fiber.stateNode);\n    }\n\n    // Recursively clean up any filtered Fibers below this one as well since\n    // we won't recordUnmount on those.\n    for (let child = fiber.child; child !== null; child = child.sibling) {\n      if (shouldFilterFiber(child)) {\n        untrackFiber(nearestInstance, child);\n      }\n    }\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n          return data;\n        }\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n      case ForwardRef:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: indices !== null && indices.length > 0,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: null,\n            hooks: indices,\n          };\n          // Only traverse the hooks list once, depending on what info we're returning.\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function getContextChanged(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    let prevContext =\n      prevFiber.dependencies && prevFiber.dependencies.firstContext;\n    let nextContext =\n      nextFiber.dependencies && nextFiber.dependencies.firstContext;\n\n    while (prevContext && nextContext) {\n      // Note this only works for versions of React that support this key (e.v. 18+)\n      // For older versions, there's no good way to read the current context value after render has completed.\n      // This is because React maintains a stack of context values during render,\n      // but by the time DevTools is called, render has finished and the stack is empty.\n      if (prevContext.context !== nextContext.context) {\n        // If the order of context has changed, then the later context values might have\n        // changed too but the main reason it rerendered was earlier. Either an earlier\n        // context changed value but then we would have exited already. If we end up here\n        // it's because a state or props change caused the order of contexts used to change.\n        // So the main cause is not the contexts themselves.\n        return false;\n      }\n      if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n        return true;\n      }\n\n      prevContext = prevContext.next;\n      nextContext = nextContext.next;\n    }\n    return false;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    while (next !== null) {\n      if (didStatefulHookChange(prev, next)) {\n        indices.push(index);\n      }\n      next = next.next;\n      prev = prev.next;\n      index++;\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  function recordConsoleLogs(\n    instance: FiberInstance | VirtualInstance,\n    componentLogsEntry: void | ComponentLogs,\n  ): boolean {\n    if (componentLogsEntry === undefined) {\n      if (instance.logCount === 0) {\n        // Nothing has changed.\n        return false;\n      }\n      // Reset to zero.\n      instance.logCount = 0;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(0);\n      pushOperation(0);\n      return true;\n    } else {\n      const totalCount =\n        componentLogsEntry.errorsCount + componentLogsEntry.warningsCount;\n      if (instance.logCount === totalCount) {\n        // Nothing has changed.\n        return false;\n      }\n      // Update counts.\n      instance.logCount = totalCount;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(componentLogsEntry.errorsCount);\n      pushOperation(componentLogsEntry.warningsCount);\n      return true;\n    }\n  }\n\n  function flushPendingEvents(root: Object): void {\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    if (currentRoot === null) {\n      // TODO: This is not always safe so this field is probably not needed.\n      operations[i++] = -1;\n    } else {\n      operations[i++] = currentRoot.id;\n    }\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = 0; j < pendingRealUnmountedIDs.length; j++) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(\n    fiber: Fiber,\n    parentInstance: DevToolsInstance | null,\n  ): FiberInstance {\n    const isRoot = fiber.tag === HostRoot;\n    let fiberInstance;\n    if (isRoot) {\n      const entry = rootToFiberInstanceMap.get(fiber.stateNode);\n      if (entry === undefined) {\n        throw new Error('The root should have been registered at this point');\n      }\n      fiberInstance = entry;\n    } else {\n      fiberInstance = createFiberInstance(fiber);\n    }\n    idToDevToolsInstanceMap.set(fiberInstance.id, fiberInstance);\n\n    const id = fiberInstance.id;\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiberInstance, parentInstance);\n    }\n\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    if (isRoot) {\n      const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n\n      // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n      // Instead let's re-purpose a pre-existing field to carry more information.\n      let profilingFlags = 0;\n      if (isProfilingSupported) {\n        profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n        if (typeof injectProfilingHooks === 'function') {\n          profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n        }\n      }\n\n      // Set supportsStrictMode to false for production renderer builds\n      const isProductionBuildOfRenderer = renderer.bundleType === 0;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(\n        !isProductionBuildOfRenderer && StrictModeBits !== 0 ? 1 : 0,\n      );\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n\n      // Finding the owner instance might require traversing the whole parent path which\n      // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n      // need it but we have some synchronous operations in the front end like Alt+Left\n      // which selects the owner immediately. Typically most owners are only a few parents\n      // away so maybe it's not so bad.\n      const debugOwner = getUnfilteredOwner(fiber);\n      const ownerInstance = findNearestOwnerInstance(\n        parentInstance,\n        debugOwner,\n      );\n      if (\n        ownerInstance !== null &&\n        debugOwner === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        ownerInstance.source === null\n      ) {\n        // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n        // the debugStack will be a stack frame inside the ownerInstance's source.\n        ownerInstance.source = fiber._debugStack;\n      }\n      const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n      const parentID = parentInstance\n        ? parentInstance.kind === FILTERED_FIBER_INSTANCE\n          ? // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n            ((parentInstance.parent: any): VirtualInstance).id\n          : parentInstance.id\n        : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if ((fiber.mode & StrictModeBits) !== 0) {\n        let parentFiber = null;\n        let parentFiberInstance = parentInstance;\n        while (parentFiberInstance !== null) {\n          if (parentFiberInstance.kind === FIBER_INSTANCE) {\n            parentFiber = parentFiberInstance.data;\n            break;\n          }\n          parentFiberInstance = parentFiberInstance.parent;\n        }\n        if (parentFiber === null || (parentFiber.mode & StrictModeBits) === 0) {\n          pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n          pushOperation(id);\n          pushOperation(StrictMode);\n        }\n      }\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n    recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n    if (isProfilingSupported) {\n      recordProfilingDurations(fiberInstance, null);\n    }\n    return fiberInstance;\n  }\n\n  function recordVirtualMount(\n    instance: VirtualInstance,\n    parentInstance: DevToolsInstance | null,\n    secondaryEnv: null | string,\n  ): void {\n    const id = instance.id;\n\n    idToDevToolsInstanceMap.set(id, instance);\n\n    const componentInfo = instance.data;\n\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const env = componentInfo.env;\n    let displayName = componentInfo.name || '';\n    if (typeof env === 'string') {\n      // We model environment as an HoC name for now.\n      if (secondaryEnv !== null) {\n        displayName = secondaryEnv + '(' + displayName + ')';\n      }\n      displayName = env + '(' + displayName + ')';\n    }\n    const elementType = ElementTypeVirtual;\n\n    // Finding the owner instance might require traversing the whole parent path which\n    // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n    // need it but we have some synchronous operations in the front end like Alt+Left\n    // which selects the owner immediately. Typically most owners are only a few parents\n    // away so maybe it's not so bad.\n    const debugOwner = getUnfilteredOwner(componentInfo);\n    const ownerInstance = findNearestOwnerInstance(parentInstance, debugOwner);\n    if (\n      ownerInstance !== null &&\n      debugOwner === componentInfo.owner &&\n      componentInfo.debugStack != null &&\n      ownerInstance.source === null\n    ) {\n      // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n      // the debugStack will be a stack frame inside the ownerInstance's source.\n      ownerInstance.source = componentInfo.debugStack;\n    }\n    const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n    const parentID = parentInstance\n      ? parentInstance.kind === FILTERED_FIBER_INSTANCE\n        ? // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n          ((parentInstance.parent: any): VirtualInstance).id\n        : parentInstance.id\n      : 0;\n\n    const displayNameStringID = getStringID(displayName);\n\n    // This check is a guard to handle a React element that has been modified\n    // in such a way as to bypass the default stringification of the \"key\" property.\n    const keyString = key === null ? null : String(key);\n    const keyStringID = getStringID(keyString);\n\n    pushOperation(TREE_OPERATION_ADD);\n    pushOperation(id);\n    pushOperation(elementType);\n    pushOperation(parentID);\n    pushOperation(ownerID);\n    pushOperation(displayNameStringID);\n    pushOperation(keyStringID);\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n    recordConsoleLogs(instance, componentLogsEntry);\n  }\n\n  function recordUnmount(fiberInstance: FiberInstance): void {\n    const fiber = fiberInstance.data;\n    if (__DEBUG__) {\n      debug('recordUnmount()', fiberInstance, reconcilingParent);\n    }\n\n    if (trackedPathMatchInstance === fiberInstance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = fiberInstance.id;\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      pendingRealUnmountedIDs.push(id);\n    }\n\n    idToDevToolsInstanceMap.delete(fiberInstance.id);\n\n    untrackFiber(fiberInstance, fiber);\n  }\n\n  // Running state of the remaining children from the previous version of this parent that\n  // we haven't yet added back. This should be reset anytime we change parent.\n  // Any remaining ones at the end will be deleted.\n  let remainingReconcilingChildren: null | DevToolsInstance = null;\n  // The previously placed child.\n  let previouslyReconciledSibling: null | DevToolsInstance = null;\n  // To save on stack allocation and ensure that they are updated as a pair, we also store\n  // the current parent here as well.\n  let reconcilingParent: null | DevToolsInstance = null;\n\n  function insertChild(instance: DevToolsInstance): void {\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      // This instance is at the root.\n      return;\n    }\n    // Place it in the parent.\n    instance.parent = parentInstance;\n    if (previouslyReconciledSibling === null) {\n      previouslyReconciledSibling = instance;\n      parentInstance.firstChild = instance;\n    } else {\n      previouslyReconciledSibling.nextSibling = instance;\n      previouslyReconciledSibling = instance;\n    }\n    instance.nextSibling = null;\n  }\n\n  function moveChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    removeChild(instance, previousSibling);\n    insertChild(instance);\n  }\n\n  function removeChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    if (instance.parent === null) {\n      if (remainingReconcilingChildren === instance) {\n        throw new Error(\n          'Remaining children should not have items with no parent',\n        );\n      } else if (instance.nextSibling !== null) {\n        throw new Error('A deleted instance should not have next siblings');\n      }\n      // Already deleted.\n      return;\n    }\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      throw new Error('Should not have a parent if we are at the root');\n    }\n    if (instance.parent !== parentInstance) {\n      throw new Error(\n        'Cannot remove a node from a different parent than is being reconciled.',\n      );\n    }\n    // Remove an existing child from its current position, which we assume is in the\n    // remainingReconcilingChildren set.\n    if (previousSibling === null) {\n      // We're first in the remaining set. Remove us.\n      if (remainingReconcilingChildren !== instance) {\n        throw new Error(\n          'Expected a placed child to be moved from the remaining set.',\n        );\n      }\n      remainingReconcilingChildren = instance.nextSibling;\n    } else {\n      previousSibling.nextSibling = instance.nextSibling;\n    }\n    instance.nextSibling = null;\n    instance.parent = null;\n  }\n\n  function unmountRemainingChildren() {\n    let child = remainingReconcilingChildren;\n    while (child !== null) {\n      unmountInstanceRecursively(child);\n      child = remainingReconcilingChildren;\n    }\n  }\n\n  function mountVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // If we have the tree selection from previous reload, try to match this Instance.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath =\n      updateVirtualTrackedPathStateBeforeMount(\n        virtualInstance,\n        reconcilingParent,\n      );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    remainingReconcilingChildren = null;\n    try {\n      mountVirtualChildrenRecursively(\n        firstChild,\n        lastChild,\n        traceNearestHostComponentUpdate,\n        virtualLevel + 1,\n      );\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n    }\n  }\n\n  function recordVirtualUnmount(instance: VirtualInstance) {\n    if (trackedPathMatchInstance === instance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = instance.id;\n    pendingRealUnmountedIDs.push(id);\n  }\n\n  function getSecondaryEnvironmentName(\n    debugInfo: ?ReactDebugInfo,\n    index: number,\n  ): null | string {\n    if (debugInfo != null) {\n      const componentInfo: ReactComponentInfo = (debugInfo[index]: any);\n      for (let i = index + 1; i < debugInfo.length; i++) {\n        const debugEntry = debugInfo[i];\n        if (typeof debugEntry.env === 'string') {\n          // If the next environment is different then this component was the boundary\n          // and it changed before entering the next component. So we assign this\n          // component a secondary environment.\n          return componentInfo.env !== debugEntry.env ? debugEntry.env : null;\n        }\n      }\n    }\n    return null;\n  }\n\n  function mountVirtualChildrenRecursively(\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceFirstFiber: Fiber = firstChild;\n    while (fiber !== null && fiber !== lastChild) {\n      let level = 0;\n      if (fiber._debugInfo) {\n        for (let i = 0; i < fiber._debugInfo.length; i++) {\n          const debugEntry = fiber._debugInfo[i];\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          // Scan up until the next Component to see if this component changed environment.\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(fiber._debugInfo, i);\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            // Skip.\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== debugEntry\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                mountVirtualInstanceRecursively(\n                  previousVirtualInstance,\n                  previousVirtualInstanceFirstFiber,\n                  fiber,\n                  traceNearestHostComponentUpdate,\n                  virtualLevel,\n                );\n              }\n              previousVirtualInstance = createVirtualInstance(componentInfo);\n              recordVirtualMount(\n                previousVirtualInstance,\n                reconcilingParent,\n                secondaryEnv,\n              );\n              insertChild(previousVirtualInstance);\n              previousVirtualInstanceFirstFiber = fiber;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and mount any previous children\n          // that should go into the previous virtual instance.\n          mountVirtualInstanceRecursively(\n            previousVirtualInstance,\n            previousVirtualInstanceFirstFiber,\n            fiber,\n            traceNearestHostComponentUpdate,\n            virtualLevel,\n          );\n          previousVirtualInstance = null;\n        }\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n        mountFiberRecursively(fiber, traceNearestHostComponentUpdate);\n      }\n      fiber = fiber.sibling;\n    }\n    if (previousVirtualInstance !== null) {\n      // Mount any previous children that should go into the previous parent.\n      mountVirtualInstanceRecursively(\n        previousVirtualInstance,\n        previousVirtualInstanceFirstFiber,\n        null,\n        traceNearestHostComponentUpdate,\n        virtualLevel,\n      );\n    }\n  }\n\n  function mountChildrenRecursively(\n    firstChild: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    mountVirtualChildrenRecursively(\n      firstChild,\n      null,\n      traceNearestHostComponentUpdate,\n      0, // first level\n    );\n  }\n\n  function mountFiberRecursively(\n    fiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    const shouldIncludeInTree = !shouldFilterFiber(fiber);\n    let newInstance = null;\n    if (shouldIncludeInTree) {\n      newInstance = recordMount(fiber, reconcilingParent);\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    } else if (\n      reconcilingParent !== null &&\n      reconcilingParent.kind === VIRTUAL_INSTANCE\n    ) {\n      // If the parent is a Virtual Instance and we filtered this Fiber we include a\n      // hidden node.\n\n      if (\n        reconcilingParent.data === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        reconcilingParent.source === null\n      ) {\n        // The new Fiber is directly owned by the parent. Therefore somewhere on the\n        // debugStack will be a stack frame inside parent that we can use as its soruce.\n        reconcilingParent.source = fiber._debugStack;\n      }\n\n      newInstance = createFilteredFiberInstance(fiber);\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    }\n\n    // If we have the tree selection from previous reload, try to match this Fiber.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath = updateTrackedPathStateBeforeMount(\n      fiber,\n      newInstance,\n    );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    if (newInstance !== null) {\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = newInstance;\n      previouslyReconciledSibling = null;\n      remainingReconcilingChildren = null;\n    }\n    try {\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      if (fiber.tag === HostHoistable) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostResource(nearestInstance, fiber.memoizedState);\n      } else if (\n        fiber.tag === HostComponent ||\n        fiber.tag === HostText ||\n        fiber.tag === HostSingleton\n      ) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostInstance(nearestInstance, fiber.stateNode);\n      }\n\n      if (fiber.tag === SuspenseComponent) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          if (fallbackChildFragment) {\n            const fallbackChild = fallbackChildFragment.child;\n            if (fallbackChild !== null) {\n              updateTrackedPathStateBeforeMount(fallbackChildFragment, null);\n              mountChildrenRecursively(\n                fallbackChild,\n                traceNearestHostComponentUpdate,\n              );\n            }\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n            updateTrackedPathStateBeforeMount(fiber.child, null);\n          }\n          if (primaryChild !== null) {\n            mountChildrenRecursively(\n              primaryChild,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountChildrenRecursively(\n            fiber.child,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n    } finally {\n      if (newInstance !== null) {\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n      }\n    }\n\n    // We're exiting this Fiber now, and entering its siblings.\n    // If we have selection to restore, we might need to re-activate tracking.\n    updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback, or deleting a subtree.\n  function unmountInstanceRecursively(instance: DevToolsInstance) {\n    if (__DEBUG__) {\n      debug('unmountInstanceRecursively()', instance, reconcilingParent);\n    }\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = instance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    remainingReconcilingChildren = instance.firstChild;\n    instance.firstChild = null;\n    try {\n      // Unmount the remaining set.\n      unmountRemainingChildren();\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n    }\n    if (instance.kind === FIBER_INSTANCE) {\n      recordUnmount(instance);\n    } else if (instance.kind === VIRTUAL_INSTANCE) {\n      recordVirtualUnmount(instance);\n    } else {\n      untrackFiber(instance, instance.data);\n    }\n    removeChild(instance, null);\n  }\n\n  function recordProfilingDurations(\n    fiberInstance: FiberInstance,\n    prevFiber: null | Fiber,\n  ) {\n    const id = fiberInstance.id;\n    const fiber = fiberInstance.data;\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    fiberInstance.treeBaseDuration = treeBaseDuration || 0;\n\n    if (isProfiling) {\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        prevFiber == null ||\n        treeBaseDuration !== prevFiber.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (prevFiber == null || didFiberRender(prevFiber, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(prevFiber, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n          }\n        }\n      }\n\n      // If this Fiber was in the set of memoizedUpdaters we need to record\n      // it to be included in the description of the commit.\n      const fiberRoot: FiberRoot = currentRoot.data.stateNode;\n      const updaters = fiberRoot.memoizedUpdaters;\n      if (\n        updaters != null &&\n        (updaters.has(fiber) ||\n          // We check the alternate here because we're matching identity and\n          // prevFiber might be same as fiber.\n          (fiber.alternate !== null && updaters.has(fiber.alternate)))\n      ) {\n        const metadata =\n          ((currentCommitProfilingMetadata: any): CommitProfilingData);\n        if (metadata.updaters === null) {\n          metadata.updaters = [];\n        }\n        metadata.updaters.push(instanceToSerializedElement(fiberInstance));\n      }\n    }\n  }\n\n  function recordVirtualProfilingDurations(virtualInstance: VirtualInstance) {\n    const id = virtualInstance.id;\n\n    let treeBaseDuration = 0;\n    // Add up the base duration of the child instances. The virtual base duration\n    // will be the same as children's duration since we don't take up any render\n    // time in the virtual instance.\n    for (\n      let child = virtualInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      treeBaseDuration += child.treeBaseDuration;\n    }\n\n    if (isProfiling) {\n      const previousTreeBaseDuration = virtualInstance.treeBaseDuration;\n      if (treeBaseDuration !== previousTreeBaseDuration) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n    }\n\n    virtualInstance.treeBaseDuration = treeBaseDuration;\n  }\n\n  function recordResetChildren(\n    parentInstance: FiberInstance | VirtualInstance,\n  ) {\n    if (__DEBUG__) {\n      if (parentInstance.firstChild !== null) {\n        debug(\n          'recordResetChildren()',\n          parentInstance.firstChild,\n          parentInstance,\n        );\n      }\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    let child: null | DevToolsInstance = parentInstance.firstChild;\n    while (child !== null) {\n      if (child.kind === FILTERED_FIBER_INSTANCE) {\n        for (\n          let innerChild: null | DevToolsInstance = parentInstance.firstChild;\n          innerChild !== null;\n          innerChild = innerChild.nextSibling\n        ) {\n          nextChildren.push((innerChild: any).id);\n        }\n      } else {\n        nextChildren.push(child.id);\n      }\n      child = child.nextSibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(parentInstance.id);\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function updateVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    // We'll move them back one by one, and anything that remains is deleted.\n    remainingReconcilingChildren = virtualInstance.firstChild;\n    virtualInstance.firstChild = null;\n    try {\n      if (\n        updateVirtualChildrenRecursively(\n          nextFirstChild,\n          nextLastChild,\n          prevFirstChild,\n          traceNearestHostComponentUpdate,\n          virtualLevel + 1,\n        )\n      ) {\n        recordResetChildren(virtualInstance);\n      }\n      // Update the errors/warnings count. If this Instance has switched to a different\n      // ReactComponentInfo instance, such as when refreshing Server Components, then\n      // we replace all the previous logs with the ones associated with the new ones rather\n      // than merging. Because deduping is expected to happen at the request level.\n      const componentLogsEntry = componentInfoToComponentLogsMap.get(\n        virtualInstance.data,\n      );\n      recordConsoleLogs(virtualInstance, componentLogsEntry);\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n    } finally {\n      unmountRemainingChildren();\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n    }\n  }\n\n  function updateVirtualChildrenRecursively(\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): boolean {\n    let shouldResetChildren = false;\n    // If the first child is different, we need to traverse them.\n    // Each next child will be either a new child (mount) or an alternate (update).\n    let nextChild: null | Fiber = nextFirstChild;\n    let prevChildAtSameIndex = prevFirstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceWasMount: boolean = false;\n    let previousVirtualInstanceNextFirstFiber: Fiber = nextFirstChild;\n    let previousVirtualInstancePrevFirstFiber: null | Fiber = prevFirstChild;\n    while (nextChild !== null && nextChild !== nextLastChild) {\n      let level = 0;\n      if (nextChild._debugInfo) {\n        for (let i = 0; i < nextChild._debugInfo.length; i++) {\n          const debugEntry = nextChild._debugInfo[i];\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(\n            nextChild._debugInfo,\n            i,\n          );\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== componentInfo\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                if (previousVirtualInstanceWasMount) {\n                  mountVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                } else {\n                  updateVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    previousVirtualInstancePrevFirstFiber,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                }\n              }\n              let previousSiblingOfBestMatch = null;\n              let bestMatch = remainingReconcilingChildren;\n              if (componentInfo.key != null) {\n                // If there is a key try to find a matching key in the set.\n                bestMatch = remainingReconcilingChildren;\n                while (bestMatch !== null) {\n                  if (\n                    bestMatch.kind === VIRTUAL_INSTANCE &&\n                    bestMatch.data.key === componentInfo.key\n                  ) {\n                    break;\n                  }\n                  previousSiblingOfBestMatch = bestMatch;\n                  bestMatch = bestMatch.nextSibling;\n                }\n              }\n              if (\n                bestMatch !== null &&\n                bestMatch.kind === VIRTUAL_INSTANCE &&\n                bestMatch.data.name === componentInfo.name &&\n                bestMatch.data.env === componentInfo.env &&\n                bestMatch.data.key === componentInfo.key\n              ) {\n                // If the previous children had a virtual instance in the same slot\n                // with the same name, then we claim it and reuse it for this update.\n                // Update it with the latest entry.\n                bestMatch.data = componentInfo;\n                moveChild(bestMatch, previousSiblingOfBestMatch);\n                previousVirtualInstance = bestMatch;\n                previousVirtualInstanceWasMount = false;\n              } else {\n                // Otherwise we create a new instance.\n                const newVirtualInstance = createVirtualInstance(componentInfo);\n                recordVirtualMount(\n                  newVirtualInstance,\n                  reconcilingParent,\n                  secondaryEnv,\n                );\n                insertChild(newVirtualInstance);\n                previousVirtualInstance = newVirtualInstance;\n                previousVirtualInstanceWasMount = true;\n                shouldResetChildren = true;\n              }\n              // Existing children might be reparented into this new virtual instance.\n              // TODO: This will cause the front end to error which needs to be fixed.\n              previousVirtualInstanceNextFirstFiber = nextChild;\n              previousVirtualInstancePrevFirstFiber = prevChildAtSameIndex;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and update any previous children\n          // that should go into the previous virtual instance.\n          if (previousVirtualInstanceWasMount) {\n            mountVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n          } else {\n            updateVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              previousVirtualInstancePrevFirstFiber,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n          }\n          previousVirtualInstance = null;\n        }\n\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n\n        // Do a fast pass over the remaining children to find the previous instance.\n        // TODO: This doesn't have the best O(n) for a large set of children that are\n        // reordered. Consider using a temporary map if it's not the very next one.\n        let prevChild;\n        if (prevChildAtSameIndex === nextChild) {\n          // This set is unchanged. We're just going through it to place all the\n          // children again.\n          prevChild = nextChild;\n        } else {\n          // We don't actually need to rely on the alternate here. We could also\n          // reconcile against stateNode, key or whatever. Doesn't have to be same\n          // Fiber pair.\n          prevChild = nextChild.alternate;\n        }\n        let previousSiblingOfExistingInstance = null;\n        let existingInstance = null;\n        if (prevChild !== null) {\n          existingInstance = remainingReconcilingChildren;\n          while (existingInstance !== null) {\n            if (existingInstance.data === prevChild) {\n              break;\n            }\n            previousSiblingOfExistingInstance = existingInstance;\n            existingInstance = existingInstance.nextSibling;\n          }\n        }\n        if (existingInstance !== null) {\n          // Common case. Match in the same parent.\n          const fiberInstance: FiberInstance = (existingInstance: any); // Only matches if it's a Fiber.\n\n          // We keep track if the order of the children matches the previous order.\n          // They are always different referentially, but if the instances line up\n          // conceptually we'll want to know that.\n          if (prevChild !== prevChildAtSameIndex) {\n            shouldResetChildren = true;\n          }\n\n          moveChild(fiberInstance, previousSiblingOfExistingInstance);\n\n          if (\n            updateFiberRecursively(\n              fiberInstance,\n              nextChild,\n              (prevChild: any),\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            // If a nested tree child order changed but it can't handle its own\n            // child order invalidation (e.g. because it's filtered out like host nodes),\n            // propagate the need to reset child order upwards to this Fiber.\n            shouldResetChildren = true;\n          }\n        } else if (prevChild !== null && shouldFilterFiber(nextChild)) {\n          // If this Fiber should be filtered, we need to still update its children.\n          // This relies on an alternate since we don't have an Instance with the previous\n          // child on it. Ideally, the reconciliation wouldn't need previous Fibers that\n          // are filtered from the tree.\n          if (\n            updateFiberRecursively(\n              null,\n              nextChild,\n              prevChild,\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            shouldResetChildren = true;\n          }\n        } else {\n          // It's possible for a FiberInstance to be reparented when virtual parents\n          // get their sequence split or change structure with the same render result.\n          // In this case we unmount the and remount the FiberInstances.\n          // This might cause us to lose the selection but it's an edge case.\n\n          // We let the previous instance remain in the \"remaining queue\" it is\n          // in to be deleted at the end since it'll have no match.\n\n          mountFiberRecursively(nextChild, traceNearestHostComponentUpdate);\n          // Need to mark the parent set to remount the new instance.\n          shouldResetChildren = true;\n        }\n      }\n      // Try the next child.\n      nextChild = nextChild.sibling;\n      // Advance the pointer in the previous list so that we can\n      // keep comparing if they line up.\n      if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n        prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n      }\n    }\n    if (previousVirtualInstance !== null) {\n      if (previousVirtualInstanceWasMount) {\n        mountVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n      } else {\n        updateVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          previousVirtualInstancePrevFirstFiber,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n      }\n    }\n    // If we have no more children, but used to, they don't line up.\n    if (prevChildAtSameIndex !== null) {\n      shouldResetChildren = true;\n    }\n    return shouldResetChildren;\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateChildrenRecursively(\n    nextFirstChild: null | Fiber,\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    if (nextFirstChild === null) {\n      return prevFirstChild !== null;\n    }\n    return updateVirtualChildrenRecursively(\n      nextFirstChild,\n      null,\n      prevFirstChild,\n      traceNearestHostComponentUpdate,\n      0,\n    );\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    fiberInstance: null | FiberInstance, // null if this should be filtered\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    if (__DEBUG__) {\n      if (fiberInstance !== null) {\n        debug('updateFiberRecursively()', fiberInstance, reconcilingParent);\n      }\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    if (fiberInstance !== null) {\n      // Update the Fiber so we that we always keep the current Fiber on the data.\n      fiberInstance.data = nextFiber;\n      if (\n        mostRecentlyInspectedElement !== null &&\n        mostRecentlyInspectedElement.id === fiberInstance.id &&\n        didFiberRender(prevFiber, nextFiber)\n      ) {\n        // If this Fiber has updated, clear cached inspected data.\n        // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n        hasElementUpdatedSinceLastInspected = true;\n      }\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = fiberInstance;\n      previouslyReconciledSibling = null;\n      // Move all the children of this instance to the remaining set.\n      // We'll move them back one by one, and anything that remains is deleted.\n      remainingReconcilingChildren = fiberInstance.firstChild;\n      fiberInstance.firstChild = null;\n    }\n    try {\n      if (\n        nextFiber.tag === HostHoistable &&\n        prevFiber.memoizedState !== nextFiber.memoizedState\n      ) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        releaseHostResource(nearestInstance, prevFiber.memoizedState);\n        aquireHostResource(nearestInstance, nextFiber.memoizedState);\n      } else if (\n        (nextFiber.tag === HostComponent ||\n          nextFiber.tag === HostText ||\n          nextFiber.tag === HostSingleton) &&\n        prevFiber.stateNode !== nextFiber.stateNode\n      ) {\n        // In persistent mode, it's possible for the stateNode to update with\n        // a new clone. In that case we need to release the old one and aquire\n        // new one instead.\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        releaseHostInstance(nearestInstance, prevFiber.stateNode);\n        aquireHostInstance(nearestInstance, nextFiber.stateNode);\n      }\n\n      const isSuspense = nextFiber.tag === SuspenseComponent;\n      let shouldResetChildren = false;\n      // The behavior of timed-out Suspense trees is unique.\n      // Rather than unmount the timed out content (and possibly lose important state),\n      // React re-parents this content within a hidden Fragment while the fallback is showing.\n      // This behavior doesn't need to be observable in the DevTools though.\n      // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n      // The easiest fix is to strip out the intermediate Fragment fibers,\n      // so the Elements panel and Profiler don't need to special case them.\n      // Suspense components only have a non-null memoizedState if they're timed-out.\n      const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n      const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n      // The logic below is inspired by the code paths in updateSuspenseComponent()\n      // inside ReactFiberBeginWork in the React source code.\n      if (prevDidTimeout && nextDidTimeOut) {\n        // Fallback -> Fallback:\n        // 1. Reconcile fallback set.\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        // Note: We can't use nextFiber.child.sibling.alternate\n        // because the set is special and alternate may not exist.\n        const prevFiberChild = prevFiber.child;\n        const prevFallbackChildSet = prevFiberChild\n          ? prevFiberChild.sibling\n          : null;\n\n        if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n\n          shouldResetChildren = true;\n        }\n\n        if (\n          nextFallbackChildSet != null &&\n          prevFallbackChildSet != null &&\n          updateChildrenRecursively(\n            nextFallbackChildSet,\n            prevFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          )\n        ) {\n          shouldResetChildren = true;\n        }\n      } else if (prevDidTimeout && !nextDidTimeOut) {\n        // Fallback -> Primary:\n        // 1. Unmount fallback set\n        // Note: don't emulate fallback unmount because React actually did it.\n        // 2. Mount primary set\n        const nextPrimaryChildSet = nextFiber.child;\n        if (nextPrimaryChildSet !== null) {\n          mountChildrenRecursively(\n            nextPrimaryChildSet,\n            traceNearestHostComponentUpdate,\n          );\n        }\n        shouldResetChildren = true;\n      } else if (!prevDidTimeout && nextDidTimeOut) {\n        // Primary -> Fallback:\n        // 1. Hide primary set\n        // We simply don't re-add the fallback children and let\n        // unmountRemainingChildren() handle it.\n        // 2. Mount fallback set\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        if (nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n          shouldResetChildren = true;\n        }\n      } else {\n        // Common case: Primary -> Primary.\n        // This is the same code path as for non-Suspense fibers.\n        if (nextFiber.child !== prevFiber.child) {\n          if (\n            updateChildrenRecursively(\n              nextFiber.child,\n              prevFiber.child,\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            shouldResetChildren = true;\n          }\n        } else {\n          // Children are unchanged.\n          if (fiberInstance !== null) {\n            // All the remaining children will be children of this same fiber so we can just reuse them.\n            // I.e. we just restore them by undoing what we did above.\n            fiberInstance.firstChild = remainingReconcilingChildren;\n            remainingReconcilingChildren = null;\n\n            if (traceUpdatesEnabled) {\n              // If we're tracing updates and we've bailed out before reaching a host node,\n              // we should fall back to recursively marking the nearest host descendants for highlight.\n              if (traceNearestHostComponentUpdate) {\n                const hostInstances =\n                  findAllCurrentHostInstances(fiberInstance);\n                hostInstances.forEach(hostInstance => {\n                  traceUpdatesForNodes.add(hostInstance);\n                });\n              }\n            }\n          } else {\n            // If this fiber is filtered there might be changes to this set elsewhere so we have\n            // to visit each child to place it back in the set. We let the child bail out instead.\n            if (\n              updateChildrenRecursively(nextFiber.child, prevFiber.child, false)\n            ) {\n              throw new Error(\n                'The children should not have changed if we pass in the same set.',\n              );\n            }\n          }\n        }\n      }\n\n      if (fiberInstance !== null) {\n        let componentLogsEntry = fiberToComponentLogsMap.get(\n          fiberInstance.data,\n        );\n        if (componentLogsEntry === undefined && fiberInstance.data.alternate) {\n          componentLogsEntry = fiberToComponentLogsMap.get(\n            fiberInstance.data.alternate,\n          );\n        }\n        recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n        const isProfilingSupported =\n          nextFiber.hasOwnProperty('treeBaseDuration');\n        if (isProfilingSupported) {\n          recordProfilingDurations(fiberInstance, prevFiber);\n        }\n      }\n      if (shouldResetChildren) {\n        // We need to crawl the subtree for closest non-filtered Fibers\n        // so that we can display them in a flat children set.\n        if (fiberInstance !== null) {\n          recordResetChildren(fiberInstance);\n          // We've handled the child order change for this Fiber.\n          // Since it's included, there's no need to invalidate parent child order.\n          return false;\n        } else {\n          // Let the closest unfiltered parent Fiber reset its child order instead.\n          return true;\n        }\n      } else {\n        return false;\n      }\n    } finally {\n      if (fiberInstance !== null) {\n        unmountRemainingChildren();\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n      }\n    }\n  }\n\n  function cleanup() {\n    isProfiling = false;\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        const current = root.current;\n        const newRoot = createFiberInstance(current);\n        rootToFiberInstanceMap.set(root, newRoot);\n        idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n        currentRoot = newRoot;\n        setRootPseudoKey(currentRoot.id, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: null,\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, false);\n\n        flushPendingEvents(root);\n\n        needsToFlushComponentLogs = false;\n        currentRoot = (null: any);\n      });\n    }\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // This Hook is no longer used. After having shipped DevTools everywhere it is\n    // safe to stop calling it from Fiber.\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n\n    if (needsToFlushComponentLogs) {\n      // We received new logs after commit. I.e. in a passive effect. We need to\n      // traverse the tree to find the affected ones. If we just moved the whole\n      // tree traversal from handleCommitFiberRoot to handlePostCommitFiberRoot\n      // this wouldn't be needed. For now we just brute force check all instances.\n      // This is not that common of a case.\n      bruteForceFlushErrorsAndWarnings();\n    }\n  }\n\n  function handleCommitFiberRoot(\n    root: FiberRoot,\n    priorityLevel: void | number,\n  ) {\n    const current = root.current;\n\n    let prevFiber: null | Fiber = null;\n    let rootInstance = rootToFiberInstanceMap.get(root);\n    if (!rootInstance) {\n      rootInstance = createFiberInstance(current);\n      rootToFiberInstanceMap.set(root, rootInstance);\n      idToDevToolsInstanceMap.set(rootInstance.id, rootInstance);\n    } else {\n      prevFiber = rootInstance.data;\n    }\n    currentRoot = rootInstance;\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n        updaters: null,\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (prevFiber !== null) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        prevFiber.memoizedState != null &&\n        prevFiber.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        prevFiber.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRoot.id, current);\n        mountFiberRecursively(current, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(rootInstance, current, prevFiber, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        unmountInstanceRecursively(rootInstance);\n        removeRootPseudoKey(currentRoot.id);\n        rootToFiberInstanceMap.delete(root);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRoot.id, current);\n      mountFiberRecursively(current, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRoot.id,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRoot.id,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    needsToFlushComponentLogs = false;\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRoot = (null: any);\n  }\n\n  function getResourceInstance(fiber: Fiber): HostInstance | null {\n    if (fiber.tag === HostHoistable) {\n      const resource = fiber.memoizedState;\n      // Feature Detect a DOM Specific Instance of a Resource\n      if (\n        typeof resource === 'object' &&\n        resource !== null &&\n        resource.instance != null\n      ) {\n        return resource.instance;\n      }\n    }\n    return null;\n  }\n\n  function appendHostInstancesByDevToolsInstance(\n    devtoolsInstance: DevToolsInstance,\n    hostInstances: Array<HostInstance>,\n  ) {\n    if (devtoolsInstance.kind !== VIRTUAL_INSTANCE) {\n      const fiber = devtoolsInstance.data;\n      appendHostInstancesByFiber(fiber, hostInstances);\n      return;\n    }\n    // Search the tree for the nearest child Fiber and add all its host instances.\n    // TODO: If the true nearest Fiber is filtered, we might skip it and instead include all\n    // the children below it. In the extreme case, searching the whole tree.\n    for (\n      let child = devtoolsInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      appendHostInstancesByDevToolsInstance(child, hostInstances);\n    }\n  }\n\n  function appendHostInstancesByFiber(\n    fiber: Fiber,\n    hostInstances: Array<HostInstance>,\n  ): void {\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (\n        node.tag === HostComponent ||\n        node.tag === HostText ||\n        node.tag === HostSingleton ||\n        node.tag === HostHoistable\n      ) {\n        const hostInstance = node.stateNode || getResourceInstance(node);\n        if (hostInstance) {\n          hostInstances.push(hostInstance);\n        }\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n\n  function findAllCurrentHostInstances(\n    devtoolsInstance: DevToolsInstance,\n  ): $ReadOnlyArray<HostInstance> {\n    const hostInstances: Array<HostInstance> = [];\n    appendHostInstancesByDevToolsInstance(devtoolsInstance, hostInstances);\n    return hostInstances;\n  }\n\n  function findHostInstancesForElementID(id: number) {\n    try {\n      const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n      if (devtoolsInstance === undefined) {\n        console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n        return null;\n      }\n      return findAllCurrentHostInstances(devtoolsInstance);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForElementID(id: number): null | string {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      return getDisplayNameForFiber(devtoolsInstance.data);\n    } else {\n      return devtoolsInstance.data.name || '';\n    }\n  }\n\n  function getNearestMountedDOMNode(publicInstance: Element): null | Element {\n    let domNode: null | Element = publicInstance;\n    while (domNode && !publicInstanceToDevToolsInstanceMap.has(domNode)) {\n      // $FlowFixMe: In practice this is either null or Element.\n      domNode = domNode.parentNode;\n    }\n    return domNode;\n  }\n\n  function getElementIDForHostInstance(\n    publicInstance: HostInstance,\n  ): number | null {\n    const instance = publicInstanceToDevToolsInstanceMap.get(publicInstance);\n    if (instance !== undefined) {\n      if (instance.kind === FILTERED_FIBER_INSTANCE) {\n        // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n        return ((instance.parent: any): VirtualInstance).id;\n      }\n      return instance.id;\n    }\n    return null;\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    if (isMostRecentlyInspectedElement(id)) {\n      return getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return null;\n    }\n    const fiber = devtoolsInstance.data;\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        return type;\n      case ForwardRef:\n        return type.render;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return elementType != null && elementType.type != null\n          ? elementType.type\n          : type;\n      default:\n        return null;\n    }\n  }\n\n  function instanceToSerializedElement(\n    instance: FiberInstance | VirtualInstance,\n  ): SerializedElement {\n    if (instance.kind === FIBER_INSTANCE) {\n      const fiber = instance.data;\n      return {\n        displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n        id: instance.id,\n        key: fiber.key,\n        type: getElementTypeForFiber(fiber),\n      };\n    } else {\n      const componentInfo = instance.data;\n      return {\n        displayName: componentInfo.name || 'Anonymous',\n        id: instance.id,\n        key: componentInfo.key == null ? null : componentInfo.key,\n        type: ElementTypeVirtual,\n      };\n    }\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    const self = instanceToSerializedElement(devtoolsInstance);\n    const owners = getOwnersListFromInstance(devtoolsInstance);\n    // This is particular API is prefixed with the current instance too for some reason.\n    if (owners === null) {\n      return [self];\n    }\n    owners.unshift(self);\n    owners.reverse();\n    return owners;\n  }\n\n  function getOwnersListFromInstance(\n    instance: DevToolsInstance,\n  ): Array<SerializedElement> | null {\n    let owner = getUnfilteredOwner(instance.data);\n    if (owner === null) {\n      return null;\n    }\n    const owners: Array<SerializedElement> = [];\n    let parentInstance: null | DevToolsInstance = instance.parent;\n    while (parentInstance !== null && owner !== null) {\n      const ownerInstance = findNearestOwnerInstance(parentInstance, owner);\n      if (ownerInstance !== null) {\n        owners.push(instanceToSerializedElement(ownerInstance));\n        // Get the next owner and keep searching from the previous match.\n        owner = getUnfilteredOwner(owner);\n        parentInstance = ownerInstance.parent;\n      } else {\n        break;\n      }\n    }\n    return owners;\n  }\n\n  function getUnfilteredOwner(\n    owner: ReactComponentInfo | Fiber | null | void,\n  ): ReactComponentInfo | Fiber | null {\n    if (owner == null) {\n      return null;\n    }\n    if (typeof owner.tag === 'number') {\n      const ownerFiber: Fiber = (owner: any); // Refined\n      owner = ownerFiber._debugOwner;\n    } else {\n      const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n      owner = ownerInfo.owner;\n    }\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (!shouldFilterFiber(ownerFiber)) {\n          return ownerFiber;\n        }\n        owner = ownerFiber._debugOwner;\n      } else {\n        const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n        if (!shouldFilterVirtual(ownerInfo, null)) {\n          return ownerInfo;\n        }\n        owner = ownerInfo.owner;\n      }\n    }\n    return null;\n  }\n\n  function findNearestOwnerInstance(\n    parentInstance: null | DevToolsInstance,\n    owner: void | null | ReactComponentInfo | Fiber,\n  ): null | FiberInstance | VirtualInstance {\n    if (owner == null) {\n      return null;\n    }\n    // Search the parent path for any instance that matches this kind of owner.\n    while (parentInstance !== null) {\n      if (\n        parentInstance.data === owner ||\n        // Typically both owner and instance.data would refer to the current version of a Fiber\n        // but it is possible for memoization to ignore the owner on the JSX. Then the new Fiber\n        // isn't propagated down as the new owner. In that case we might match the alternate\n        // instead. This is a bit hacky but the fastest check since type casting owner to a Fiber\n        // needs a duck type check anyway.\n        parentInstance.data === (owner: any).alternate\n      ) {\n        if (parentInstance.kind === FILTERED_FIBER_INSTANCE) {\n          return null;\n        }\n        return parentInstance;\n      }\n      parentInstance = parentInstance.parent;\n    }\n    // It is technically possible to create an element and render it in a different parent\n    // but this is a weird edge case and it is worth not having to scan the tree or keep\n    // a register for every fiber/component info.\n    return null;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return {instance, style};\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return {instance, style};\n    }\n\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      return inspectVirtualInstanceRaw(devtoolsInstance);\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      return inspectFiberInstanceRaw(devtoolsInstance);\n    }\n    (devtoolsInstance: FilteredFiberInstance); // assert exhaustive\n    throw new Error('Unsupported instance kind');\n  }\n\n  function inspectFiberInstanceRaw(\n    fiberInstance: FiberInstance,\n  ): InspectedElement | null {\n    const fiber = fiberInstance.data;\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(fiberInstance);\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          // $FlowFixMe[invalid-computed-prop]\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    while (current.return !== null) {\n      const temp = current;\n      current = current.return;\n      if (temp.tag === SuspenseComponent) {\n        hasSuspenseBoundary = true;\n      } else if (isErrorBoundary(temp)) {\n        hasErrorBoundary = true;\n      }\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let isErrored = false;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiberInstance(fiberInstance);\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n\n    let nativeTag = null;\n    if (elementType === ElementTypeHostComponent) {\n      nativeTag = getNativeTag(fiber.stateNode);\n    }\n\n    return {\n      id: fiberInstance.id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      // Is this error boundary in error state.\n      isErrored,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        hasSuspenseBoundary &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForFibers.has(fiber) ||\n          (fiber.alternate !== null &&\n            forceFallbackForFibers.has(fiber.alternate))),\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n\n      nativeTag,\n    };\n  }\n\n  function inspectVirtualInstanceRaw(\n    virtualInstance: VirtualInstance,\n  ): InspectedElement | null {\n    const canViewSource = true;\n    const source = getSourceForInstance(virtualInstance);\n\n    const componentInfo = virtualInstance.data;\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const props = componentInfo.props == null ? null : componentInfo.props;\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(virtualInstance);\n\n    let rootType = null;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    const nearestFiber = getNearestFiber(virtualInstance);\n    if (nearestFiber !== null) {\n      let current = nearestFiber;\n      while (current.return !== null) {\n        const temp = current;\n        current = current.return;\n        if (temp.tag === SuspenseComponent) {\n          hasSuspenseBoundary = true;\n        } else if (isErrorBoundary(temp)) {\n          hasErrorBoundary = true;\n        }\n      }\n      const fiberRoot = current.stateNode;\n      if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n        rootType = fiberRoot._debugRootType;\n      }\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n\n    return {\n      id: virtualInstance.id,\n\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      isErrored: false,\n\n      canToggleSuspense: supportsTogglingSuspense && hasSuspenseBoundary,\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext: false,\n\n      key: key,\n\n      type: ElementTypeVirtual,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context: null,\n      hooks: null,\n      props: props,\n      state: null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n\n      nativeTag: null,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n\n    const fiber = devtoolsInstance.data;\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const componentName = getDisplayNameForElementID(id);\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const hostInstances = findHostInstancesForElementID(id);\n    if (hostInstances !== null) {\n      console.log('Nodes:', hostInstances);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let initialTreeBaseDurationsMap: Map<number, Array<[number, number]>> | null =\n    null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let recordTimeline: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        const initialTreeBaseDurations: Array<[number, number]> =\n          (initialTreeBaseDurationsMap !== null &&\n            initialTreeBaseDurationsMap.get(rootID)) ||\n          [];\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 1]),\n            ]);\n            fiberSelfDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 2]),\n            ]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration:\n              formatDurationToMicrosecondsGranularity(maxActualDuration),\n            effectDuration:\n              effectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(effectDuration)\n                : null,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration:\n              passiveEffectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(passiveEffectDuration)\n                : null,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function snapshotTreeBaseDurations(\n    instance: DevToolsInstance,\n    target: Array<[number, number]>,\n  ) {\n    // We don't need to convert milliseconds to microseconds in this case,\n    // because the profiling summary is JSON serialized.\n    if (instance.kind !== FILTERED_FIBER_INSTANCE) {\n      target.push([instance.id, instance.treeBaseDuration]);\n    }\n    for (\n      let child = instance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      snapshotTreeBaseDurations(child, target);\n    }\n  }\n\n  function startProfiling(\n    shouldRecordChangeDescriptions: boolean,\n    shouldRecordTimeline: boolean,\n  ) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n    recordTimeline = shouldRecordTimeline;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when starting profiling',\n        );\n      }\n      const rootID = rootInstance.id;\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n      const initialTreeBaseDurations: Array<[number, number]> = [];\n      snapshotTreeBaseDurations(rootInstance, initialTreeBaseDurations);\n      (initialTreeBaseDurationsMap: any).set(rootID, initialTreeBaseDurations);\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true, recordTimeline);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false, recordTimeline);\n    }\n\n    recordTimeline = false;\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (shouldStartProfilingNow) {\n    startProfiling(\n      profilingSettings.recordChangeDescriptions,\n      profilingSettings.recordTimeline,\n    );\n  }\n\n  function getNearestFiber(devtoolsInstance: DevToolsInstance): null | Fiber {\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      let inst: DevToolsInstance = devtoolsInstance;\n      while (inst.kind === VIRTUAL_INSTANCE) {\n        // For virtual instances, we search deeper until we find a Fiber instance.\n        // Then we search upwards from that Fiber. That's because Virtual Instances\n        // will always have an Fiber child filtered or not. If we searched its parents\n        // we might skip through a filtered Error Boundary before we hit a FiberInstance.\n        if (inst.firstChild === null) {\n          return null;\n        }\n        inst = inst.firstChild;\n      }\n      return inst.data.return;\n    } else {\n      return devtoolsInstance.data;\n    }\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of Fiber and its force error status: true (error), false (toggled off)\n  const forceErrorForFibers = new Map<Fiber, boolean>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any): boolean {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    let status = forceErrorForFibers.get(fiber);\n    if (status === false) {\n      // TRICKY overrideError adds entries to this Map,\n      // so ideally it would be the method that clears them too,\n      // but that would break the functionality of the feature,\n      // since DevTools needs to tell React to act differently than it normally would\n      // (don't just re-render the failed boundary, but reset its errored state too).\n      // So we can only clear it after telling React to reset the state.\n      // Technically this is premature and we should schedule it for later,\n      // since the render could always fail without committing the updated error boundary,\n      // but since this is a DEV-only feature, the simplicity is worth the trade off.\n      forceErrorForFibers.delete(fiber);\n      if (forceErrorForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n      return false;\n    }\n    if (status === undefined && fiber.alternate !== null) {\n      status = forceErrorForFibers.get(fiber.alternate);\n      if (status === false) {\n        forceErrorForFibers.delete(fiber.alternate);\n        if (forceErrorForFibers.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    if (status === undefined) {\n      return false;\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (!isErrorBoundary(fiber)) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n    forceErrorForFibers.set(fiber, forceError);\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceErrorForFibers.delete(fiber.alternate);\n    }\n    if (forceErrorForFibers.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n    scheduleUpdate(fiber);\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForFibers = new Set<Fiber>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: Fiber): boolean {\n    return (\n      forceFallbackForFibers.has(fiber) ||\n      (fiber.alternate !== null && forceFallbackForFibers.has(fiber.alternate))\n    );\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (fiber.tag !== SuspenseComponent) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceFallbackForFibers.delete(fiber.alternate);\n    }\n    if (forceFallback) {\n      forceFallbackForFibers.add(fiber);\n      if (forceFallbackForFibers.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForFibers.delete(fiber);\n      if (forceFallbackForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    scheduleUpdate(fiber);\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null; // This is the deepest unfiltered match of a Fiber.\n  let trackedPathMatchInstance: FiberInstance | VirtualInstance | null = null; // This is the deepest matched filtered Instance.\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchInstance = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(\n    fiber: Fiber,\n    fiberInstance: null | FiberInstance | FilteredFiberInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          trackedPathMatchInstance = fiberInstance;\n        }\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber === null && fiberInstance === null) {\n      // We're now looking for a Virtual Instance. It might be inside filtered Fibers\n      // so we keep looking below.\n      return true;\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateVirtualTrackedPathStateBeforeMount(\n    virtualInstance: VirtualInstance,\n    parentInstance: null | DevToolsInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    // Check if we've matched our nearest unfiltered parent so far.\n    if (trackedPathMatchInstance === parentInstance) {\n      const actualFrame = getVirtualPathFrame(virtualInstance);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = null; // Don't bother looking in Fibers anymore. We're deeper now.\n        trackedPathMatchInstance = virtualInstance;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber !== null) {\n      // We're still looking for a Fiber which might be underneath this instance.\n      return true;\n    }\n    // This Instance's parent is on the path, but this Instance itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const rootInstance = rootToFiberInstanceMap.get(fiber.stateNode);\n        if (rootInstance === undefined) {\n          throw new Error(\n            'Expected the root instance to exist when computing a path',\n          );\n        }\n        const pseudoKey = rootPseudoKeys.get(rootInstance.id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  function getVirtualPathFrame(virtualInstance: VirtualInstance): PathFrame {\n    return {\n      displayName: virtualInstance.data.name || '',\n      key: virtualInstance.data.key == null ? null : virtualInstance.data.key,\n      index: -1, // We use -1 to indicate that this is a virtual path frame.\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n\n    const keyPath = [];\n\n    let inst: DevToolsInstance = devtoolsInstance;\n    while (inst.kind === VIRTUAL_INSTANCE) {\n      keyPath.push(getVirtualPathFrame(inst));\n      if (inst.parent === null) {\n        // This is a bug but non-essential. We should've found a root instance.\n        return null;\n      }\n      inst = inst.parent;\n    }\n\n    let fiber: null | Fiber = inst.data;\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchInstance === null) {\n      // We didn't find anything.\n      return null;\n    }\n    return {\n      id: trackedPathMatchInstance.id,\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToDevToolsInstanceMap.has(id);\n  }\n\n  function getSourceForFiberInstance(\n    fiberInstance: FiberInstance,\n  ): Source | null {\n    // Favor the owner source if we have one.\n    const ownerSource = getSourceForInstance(fiberInstance);\n    if (ownerSource !== null) {\n      return ownerSource;\n    }\n\n    // Otherwise fallback to the throwing trick.\n    const dispatcherRef = getDispatcherRef(renderer);\n    const stackFrame =\n      dispatcherRef == null\n        ? null\n        : getSourceLocationByFiber(\n            ReactTypeOfWork,\n            fiberInstance.data,\n            dispatcherRef,\n          );\n    if (stackFrame === null) {\n      return null;\n    }\n    const source = parseSourceFromComponentStack(stackFrame);\n    fiberInstance.source = source;\n    return source;\n  }\n\n  function getSourceForInstance(instance: DevToolsInstance): Source | null {\n    let unresolvedSource = instance.source;\n    if (unresolvedSource === null) {\n      // We don't have any source yet. We can try again later in case an owned child mounts later.\n      // TODO: We won't have any information here if the child is filtered.\n      return null;\n    }\n\n    if (instance.kind === VIRTUAL_INSTANCE) {\n      // We might have found one on the virtual instance.\n      const debugLocation = instance.data.debugLocation;\n      if (debugLocation != null) {\n        unresolvedSource = debugLocation;\n      }\n    }\n\n    // If we have the debug stack (the creation stack of the JSX) for any owned child of this\n    // component, then at the bottom of that stack will be a stack frame that is somewhere within\n    // the component's function body. Typically it would be the callsite of the JSX unless there's\n    // any intermediate utility functions. This won't point to the top of the component function\n    // but it's at least somewhere within it.\n    if (isError(unresolvedSource)) {\n      return (instance.source = parseSourceFromOwnerStack(\n        (unresolvedSource: any),\n      ));\n    }\n    if (typeof unresolvedSource === 'string') {\n      const idx = unresolvedSource.lastIndexOf('\\n');\n      const lastLine =\n        idx === -1 ? unresolvedSource : unresolvedSource.slice(idx + 1);\n      return (instance.source = parseSourceFromComponentStack(lastLine));\n    }\n\n    // $FlowFixMe: refined.\n    return unresolvedSource;\n  }\n\n  type InternalMcpFunctions = {\n    __internal_only_getComponentTree?: Function,\n  };\n\n  const internalMcpFunctions: InternalMcpFunctions = {};\n  if (__IS_INTERNAL_MCP_BUILD__) {\n    // eslint-disable-next-line no-inner-declarations\n    function __internal_only_getComponentTree(): string {\n      let treeString = '';\n\n      function buildTreeString(\n        instance: DevToolsInstance,\n        prefix: string = '',\n        isLastChild: boolean = true,\n      ): void {\n        if (!instance) return;\n\n        const name =\n          (instance.kind !== VIRTUAL_INSTANCE\n            ? getDisplayNameForFiber(instance.data)\n            : instance.data.name) || 'Unknown';\n\n        const id = instance.id !== undefined ? instance.id : 'unknown';\n\n        if (name !== 'createRoot()') {\n          treeString +=\n            prefix +\n            (isLastChild ? '└── ' : '├── ') +\n            name +\n            ' (id: ' +\n            id +\n            ')\\n';\n        }\n\n        const childPrefix = prefix + (isLastChild ? '    ' : '│   ');\n\n        let childCount = 0;\n        let tempChild = instance.firstChild;\n        while (tempChild !== null) {\n          childCount++;\n          tempChild = tempChild.nextSibling;\n        }\n\n        let child = instance.firstChild;\n        let currentChildIndex = 0;\n\n        while (child !== null) {\n          currentChildIndex++;\n          const isLastSibling = currentChildIndex === childCount;\n          buildTreeString(child, childPrefix, isLastSibling);\n          child = child.nextSibling;\n        }\n      }\n\n      const rootInstances: Array<DevToolsInstance> = [];\n      idToDevToolsInstanceMap.forEach(instance => {\n        if (instance.parent === null || instance.parent.parent === null) {\n          rootInstances.push(instance);\n        }\n      });\n\n      if (rootInstances.length > 0) {\n        for (let i = 0; i < rootInstances.length; i++) {\n          const isLast = i === rootInstances.length - 1;\n          buildTreeString(rootInstances[i], '', isLast);\n          if (!isLast) {\n            treeString += '\\n';\n          }\n        }\n      } else {\n        treeString = 'No component tree found.';\n      }\n\n      return treeString;\n    }\n\n    internalMcpFunctions.__internal_only_getComponentTree =\n      __internal_only_getComponentTree;\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findHostInstancesForElementID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    getComponentStack,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    onErrorOrWarning,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n    getEnvironmentNames,\n    ...internalMcpFunctions,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetElementIDForHostInstance,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getElementIDForHostInstance: GetElementIDForHostInstance =\n    ((null: any): GetElementIDForHostInstance);\n  let findHostInstanceForInternalID: (id: number) => ?HostInstance;\n  let getNearestMountedDOMNode = (node: Element): null | Element => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getElementIDForHostInstance = node => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getNearestMountedDOMNode = (node: Element): null | Element => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      if (internalInstance != null) {\n        return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n      }\n      return null;\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getElementIDForHostInstance = node => {\n      // Not implemented.\n      return null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForElementID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n      source: null,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n\n      nativeTag: null,\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const hostInstance = findHostInstanceForInternalID(id);\n    if (hostInstance !== null) {\n      console.log('Node:', hostInstance);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      return getInObject(inspectedElement, path);\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return null;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return null;\n    }\n\n    return element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    // No RSC support.\n    return [];\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getInstanceAndStyle,\n    findHostInstancesForElementID: (id: number) => {\n      const hostInstance = findHostInstanceForInternalID(id);\n      return hostInstance == null ? null : [hostInstance];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n    getEnvironmentNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  ReactRenderer,\n  RendererInterface,\n  DevToolsHook,\n  RendererID,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\n\nimport {attach as attachFlight} from 'react-devtools-shared/src/backend/flight/renderer';\nimport {attach as attachFiber} from 'react-devtools-shared/src/backend/fiber/renderer';\nimport {attach as attachLegacy} from 'react-devtools-shared/src/backend/legacy/renderer';\nimport {hasAssignedBackend} from 'react-devtools-shared/src/backend/utils';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport default function attachRenderer(\n  hook: DevToolsHook,\n  id: RendererID,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface | void {\n  // only attach if the renderer is compatible with the current version of the backend\n  if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n    return;\n  }\n  let rendererInterface = hook.rendererInterfaces.get(id);\n\n  // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n  if (rendererInterface == null) {\n    if (typeof renderer.getCurrentComponentInfo === 'function') {\n      // react-flight/client\n      rendererInterface = attachFlight(hook, id, renderer, global);\n    } else if (\n      // v16-19\n      typeof renderer.findFiberByHostInstance === 'function' ||\n      // v16.8+\n      renderer.currentDispatcherRef != null\n    ) {\n      // react-reconciler v16+\n      rendererInterface = attachFiber(\n        hook,\n        id,\n        renderer,\n        global,\n        shouldStartProfilingNow,\n        profilingSettings,\n      );\n    } else if (renderer.ComponentTree) {\n      // react-dom v15\n      rendererInterface = attachLegacy(hook, id, renderer, global);\n    } else {\n      // Older react-dom or other unsupported renderer version\n    }\n  }\n\n  return rendererInterface;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Do not add / import anything to this file.\n// This function could be used from multiple places, including hook.\n\n// Skips CSS and object arguments, inlines other in the first argument as a template string\nexport default function formatConsoleArguments(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): $ReadOnlyArray<any> {\n  if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n    return [maybeMessage, ...inputArgs];\n  }\n\n  const args = inputArgs.slice();\n\n  let template = '';\n  let argumentsPointer = 0;\n  for (let i = 0; i < maybeMessage.length; ++i) {\n    const currentChar = maybeMessage[i];\n    if (currentChar !== '%') {\n      template += currentChar;\n      continue;\n    }\n\n    const nextChar = maybeMessage[i + 1];\n    ++i;\n\n    // Only keep CSS and objects, inline other arguments\n    switch (nextChar) {\n      case 'c':\n      case 'O':\n      case 'o': {\n        ++argumentsPointer;\n        template += `%${nextChar}`;\n\n        break;\n      }\n      case 'd':\n      case 'i': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseInt(arg, 10).toString();\n\n        break;\n      }\n      case 'f': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseFloat(arg).toString();\n\n        break;\n      }\n      case 's': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += String(arg);\n\n        break;\n      }\n\n      default:\n        template += `%${nextChar}`;\n    }\n  }\n\n  return [template, ...args];\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from './backend/types';\n\nimport {\n  FIREFOX_CONSOLE_DIMMING_COLOR,\n  ANSI_STYLE_DIMMING_TEMPLATE,\n  ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK,\n} from 'react-devtools-shared/src/constants';\nimport attachRenderer from './attachRenderer';\nimport formatConsoleArguments from 'react-devtools-shared/src/backend/utils/formatConsoleArguments';\nimport formatWithStyles from 'react-devtools-shared/src/backend/utils/formatWithStyles';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nfunction isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\n// We add a suffix to some frames that older versions of React didn't do.\n// To compare if it's equivalent we strip out the suffix to see if they're\n// still equivalent. Similarly, we sometimes use [] and sometimes () so we\n// strip them to for the comparison.\nconst frameDiffs = / \\(\\<anonymous\\>\\)$|\\@unknown\\:0\\:0$|\\(|\\)|\\[|\\]/gm;\nfunction areStackTracesEqual(a: string, b: string): boolean {\n  return a.replace(frameDiffs, '') === b.replace(frameDiffs, '');\n}\n\nconst targetConsole: Object = console;\n\nconst defaultProfilingSettings: ProfilingSettings = {\n  recordChangeDescriptions: false,\n  recordTimeline: false,\n};\n\nexport function installHook(\n  target: any,\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings: ProfilingSettings = defaultProfilingSettings,\n): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://react.dev/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // TODO: isProfiling should be stateful, and we should update it once profiling is finished\n  const isProfiling = shouldStartProfilingNow;\n  let uidCounter = 0;\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    const rendererInterface = attachRenderer(\n      hook,\n      id,\n      renderer,\n      target,\n      isProfiling,\n      profilingSettings,\n    );\n    if (rendererInterface != null) {\n      hook.rendererInterfaces.set(id, rendererInterface);\n      hook.emit('renderer-attached', {id, rendererInterface});\n    } else {\n      hook.hasUnsupportedRendererAttached = true;\n      hook.emit('unsupported-renderer-version');\n    }\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  let isRunningDuringStrictModeInvocation = false;\n  function setStrictMode(rendererID: RendererID, isStrictMode: boolean) {\n    isRunningDuringStrictModeInvocation = isStrictMode;\n\n    if (isStrictMode) {\n      patchConsoleForStrictMode();\n    } else {\n      unpatchConsoleForStrictMode();\n    }\n  }\n\n  const unpatchConsoleCallbacks = [];\n  // For StrictMode we patch console once we are running in StrictMode and unpatch right after it\n  // So patching could happen multiple times during the runtime\n  // Notice how we don't patch error or warn methods, because they are already patched in patchConsoleForErrorsAndWarnings\n  // This will only happen once, when hook is installed\n  function patchConsoleForStrictMode() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    // Don't patch twice\n    if (unpatchConsoleCallbacks.length > 0) {\n      return;\n    }\n\n    // At this point 'error', 'warn', and 'trace' methods are already patched\n    // by React DevTools hook to append component stacks and other possible features.\n    const consoleMethodsToOverrideForStrictMode = [\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForStrictMode) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (\n        ...args: any[]\n      ) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (settings.hideConsoleLogsInStrictMode) {\n          return;\n        }\n\n        // Dim the text color of the double logs if we're not hiding them.\n        // Firefox doesn't support ANSI escape sequences\n        if (__IS_FIREFOX__) {\n          originalMethod(\n            ...formatWithStyles(args, FIREFOX_CONSOLE_DIMMING_COLOR),\n          );\n        } else {\n          originalMethod(\n            ANSI_STYLE_DIMMING_TEMPLATE,\n            ...formatConsoleArguments(...args),\n          );\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n      unpatchConsoleCallbacks.push(() => {\n        targetConsole[method] = originalMethod;\n      });\n    }\n  }\n\n  function unpatchConsoleForStrictMode() {\n    unpatchConsoleCallbacks.forEach(callback => callback());\n    unpatchConsoleCallbacks.length = 0;\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        // $FlowFixMe[incompatible-call]\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // For Errors and Warnings we only patch console once\n  function patchConsoleForErrorsAndWarnings() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    const consoleMethodsToOverrideForErrorsAndWarnings = [\n      'error',\n      'trace',\n      'warn',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForErrorsAndWarnings) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (...args) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (\n          isRunningDuringStrictModeInvocation &&\n          settings.hideConsoleLogsInStrictMode\n        ) {\n          return;\n        }\n\n        let injectedComponentStackAsFakeError = false;\n        let alreadyHasComponentStack = false;\n        if (settings.appendComponentStack) {\n          const lastArg = args.length > 0 ? args[args.length - 1] : null;\n          alreadyHasComponentStack =\n            typeof lastArg === 'string' && isStringComponentStack(lastArg); // The last argument should be a component stack.\n        }\n\n        const shouldShowInlineWarningsAndErrors =\n          settings.showInlineWarningsAndErrors &&\n          (method === 'error' || method === 'warn');\n\n        // Search for the first renderer that has a current Fiber.\n        // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const rendererInterface of hook.rendererInterfaces.values()) {\n          const {onErrorOrWarning, getComponentStack} = rendererInterface;\n          try {\n            if (shouldShowInlineWarningsAndErrors) {\n              // patch() is called by two places: (1) the hook and (2) the renderer backend.\n              // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n              if (onErrorOrWarning != null) {\n                onErrorOrWarning(\n                  ((method: any): 'error' | 'warn'),\n                  args.slice(),\n                );\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n\n          try {\n            if (settings.appendComponentStack && getComponentStack != null) {\n              // This needs to be directly in the wrapper so we can pop exactly one frame.\n              const topFrame = Error('react-stack-top-frame');\n              const match = getComponentStack(topFrame);\n              if (match !== null) {\n                const {enableOwnerStacks, componentStack} = match;\n                // Empty string means we have a match but no component stack.\n                // We don't need to look in other renderers but we also don't add anything.\n                if (componentStack !== '') {\n                  // Create a fake Error so that when we print it we get native source maps. Every\n                  // browser will print the .stack property of the error and then parse it back for source\n                  // mapping. Rather than print the internal slot. So it doesn't matter that the internal\n                  // slot doesn't line up.\n                  const fakeError = new Error('');\n                  // In Chromium, only the stack property is printed but in Firefox the <name>:<message>\n                  // gets printed so to make the colon make sense, we name it so we print Stack:\n                  // and similarly Safari leave an expandable slot.\n                  if (__IS_CHROME__ || __IS_EDGE__) {\n                    // Before sending the stack to Chrome DevTools for formatting,\n                    // V8 will reconstruct this according to the template <name>: <message><stack-frames>\n                    // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/inspector/value-mirror.cc;l=252-311;drc=bdc48d1b1312cc40c00282efb1c9c5f41dcdca9a\n                    // It has to start with ^[\\w.]*Error\\b to trigger stack formatting.\n                    fakeError.name = enableOwnerStacks\n                      ? 'Error Stack'\n                      : 'Error Component Stack'; // This gets printed\n                  } else {\n                    fakeError.name = enableOwnerStacks\n                      ? 'Stack'\n                      : 'Component Stack'; // This gets printed\n                  }\n                  // In Chromium, the stack property needs to start with ^[\\w.]*Error\\b to trigger stack\n                  // formatting. Otherwise it is left alone. So we prefix it. Otherwise we just override it\n                  // to our own stack.\n                  fakeError.stack =\n                    __IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__\n                      ? (enableOwnerStacks\n                          ? 'Error Stack:'\n                          : 'Error Component Stack:') + componentStack\n                      : componentStack;\n\n                  if (alreadyHasComponentStack) {\n                    // Only modify the component stack if it matches what we would've added anyway.\n                    // Otherwise we assume it was a non-React stack.\n                    if (\n                      areStackTracesEqual(args[args.length - 1], componentStack)\n                    ) {\n                      const firstArg = args[0];\n                      if (\n                        args.length > 1 &&\n                        typeof firstArg === 'string' &&\n                        firstArg.endsWith('%s')\n                      ) {\n                        args[0] = firstArg.slice(0, firstArg.length - 2); // Strip the %s param\n                      }\n                      args[args.length - 1] = fakeError;\n                      injectedComponentStackAsFakeError = true;\n                    }\n                  } else {\n                    args.push(fakeError);\n                    injectedComponentStackAsFakeError = true;\n                  }\n                }\n\n                // Don't add stacks from other renderers.\n                break;\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n        }\n\n        if (settings.breakOnConsoleErrors) {\n          // --- Welcome to debugging with React DevTools ---\n          // This debugger statement means that you've enabled the \"break on warnings\" feature.\n          // Use the browser's Call Stack panel to step out of this override function\n          // to where the original warning or error was logged.\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        if (isRunningDuringStrictModeInvocation) {\n          // Dim the text color of the double logs if we're not hiding them.\n          // Firefox doesn't support ANSI escape sequences\n          if (__IS_FIREFOX__) {\n            let argsWithCSSStyles = formatWithStyles(\n              args,\n              FIREFOX_CONSOLE_DIMMING_COLOR,\n            );\n\n            if (injectedComponentStackAsFakeError) {\n              argsWithCSSStyles = [\n                `${argsWithCSSStyles[0]} %o`,\n                ...argsWithCSSStyles.slice(1),\n              ];\n            }\n\n            originalMethod(...argsWithCSSStyles);\n          } else {\n            originalMethod(\n              injectedComponentStackAsFakeError\n                ? ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK\n                : ANSI_STYLE_DIMMING_TEMPLATE,\n              ...formatConsoleArguments(...args),\n            );\n          }\n        } else {\n          originalMethod(...args);\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n    hasUnsupportedRendererAttached: false,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React Flight Client checks the hook for this to ensure DevTools is new enough.\n    supportsFlight: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    // React v18.0+\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (maybeSettingsOrSettingsPromise == null) {\n    // Set default settings\n    hook.settings = {\n      appendComponentStack: true,\n      breakOnConsoleErrors: false,\n      showInlineWarningsAndErrors: true,\n      hideConsoleLogsInStrictMode: false,\n    };\n    patchConsoleForErrorsAndWarnings();\n  } else {\n    Promise.resolve(maybeSettingsOrSettingsPromise)\n      .then(settings => {\n        hook.settings = settings;\n        hook.emit('settingsInitialized', settings);\n\n        patchConsoleForErrorsAndWarnings();\n      })\n      .catch(() => {\n        targetConsole.error(\n          \"React DevTools failed to get Console Patching settings. Console won't be patched and some console features will not work.\",\n        );\n      });\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport type {DevToolsHook, RendererID, RendererInterface} from './types';\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n  isReloadAndProfileSupported: boolean,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  function registerRendererInterface(\n    id: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    agent.registerRendererInterface(id, rendererInterface);\n\n    // Now that the Store and the renderer interface are connected,\n    // it's time to flush the pending operation codes to the frontend.\n    rendererInterface.flushInitialOperations();\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        rendererInterface,\n      }: {\n        id: number,\n        rendererInterface: RendererInterface,\n      }) => {\n        registerRendererInterface(id, rendererInterface);\n      },\n    ),\n    hook.sub('unsupported-renderer-version', () => {\n      agent.onUnsupportedRenderer();\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n    hook.sub('settingsInitialized', agent.onHookSettings),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  agent.addListener('getIfHasUnsupportedRendererVersion', () => {\n    if (hook.hasUnsupportedRendererAttached) {\n      agent.onUnsupportedRenderer();\n    }\n  });\n\n  hook.rendererInterfaces.forEach((rendererInterface, id) => {\n    registerRendererInterface(id, rendererInterface);\n  });\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n\n  // Agent's event listeners are cleaned up by Agent in `shutdown` implementation.\n  agent.addListener('shutdown', onAgentShutdown);\n  agent.addListener('updateHookSettings', settings => {\n    hook.settings = settings;\n  });\n  agent.addListener('getHookSettings', () => {\n    if (hook.settings != null) {\n      agent.onHookSettings(hook.settings);\n    }\n  });\n\n  if (isReloadAndProfileSupported) {\n    agent.onReloadAndProfileSupportedByHost();\n  }\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {\n  getDefaultComponentFilters,\n  getIsReloadAndProfileSupported,\n} from 'react-devtools-shared/src/utils';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  ComponentFilter,\n  Wall,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  DevToolsHook,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nlet savedComponentFilters: Array<ComponentFilter> =\n  getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args: Array<mixed>) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function initialize(\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings?: ProfilingSettings,\n) {\n  installHook(\n    window,\n    maybeSettingsOrSettingsPromise,\n    shouldStartProfilingNow,\n    profilingSettings,\n  );\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = (null: $FlowFixMe),\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n    onSettingsUpdated,\n    isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n    isProfiling,\n    onReloadAndProfile,\n    onReloadAndProfileFlagsReset,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function () {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    // $FlowFixMe[incompatible-call] found when upgrading Flow\n    const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n    if (typeof onReloadAndProfileFlagsReset === 'function') {\n      onReloadAndProfileFlagsReset();\n    }\n\n    if (onSettingsUpdated != null) {\n      agent.addListener('updateHookSettings', onSettingsUpdated);\n    }\n    agent.addListener('shutdown', () => {\n      if (onSettingsUpdated != null) {\n        agent.removeListener('updateHookSettings', onSettingsUpdated);\n      }\n\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window, isReloadAndProfileSupported);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        // $FlowFixMe[incompatible-call] found when upgrading Flow\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value: $FlowFixMe) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value: $FlowFixMe) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event: MessageEvent) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n\ntype ConnectWithCustomMessagingOptions = {\n  onSubscribe: (cb: Function) => void,\n  onUnsubscribe: (cb: Function) => void,\n  onMessage: (event: string, payload: any) => void,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  resolveRNStyle?: ResolveNativeStyle,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nexport function connectWithCustomMessagingProtocol({\n  onSubscribe,\n  onUnsubscribe,\n  onMessage,\n  nativeStyleEditorValidAttributes,\n  resolveRNStyle,\n  onSettingsUpdated,\n  isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n  isProfiling,\n  onReloadAndProfile,\n  onReloadAndProfileFlagsReset,\n}: ConnectWithCustomMessagingOptions): Function {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const wall: Wall = {\n    listen(fn: Function) {\n      onSubscribe(fn);\n\n      return () => {\n        onUnsubscribe(fn);\n      };\n    },\n    send(event: string, payload: any) {\n      onMessage(event, payload);\n    },\n  };\n\n  const bridge: BackendBridge = new Bridge(wall);\n\n  bridge.addListener(\n    'updateComponentFilters',\n    (componentFilters: Array<ComponentFilter>) => {\n      // Save filter changes in memory, in case DevTools is reloaded.\n      // In that case, the renderer will already be using the updated values.\n      // We'll lose these in between backend reloads but that can't be helped.\n      savedComponentFilters = componentFilters;\n    },\n  );\n\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n    bridge.send('overrideComponentFilters', savedComponentFilters);\n  }\n\n  const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n  if (typeof onReloadAndProfileFlagsReset === 'function') {\n    onReloadAndProfileFlagsReset();\n  }\n\n  if (onSettingsUpdated != null) {\n    agent.addListener('updateHookSettings', onSettingsUpdated);\n  }\n  agent.addListener('shutdown', () => {\n    if (onSettingsUpdated != null) {\n      agent.removeListener('updateHookSettings', onSettingsUpdated);\n    }\n\n    // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n    // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n    hook.emit('shutdown');\n  });\n\n  const unsubscribeBackend = initBackend(\n    hook,\n    agent,\n    window,\n    isReloadAndProfileSupported,\n  );\n\n  const nativeStyleResolver: ResolveNativeStyle | void =\n    resolveRNStyle || hook.resolveRNStyle;\n\n  if (nativeStyleResolver != null) {\n    const validAttributes =\n      nativeStyleEditorValidAttributes ||\n      hook.nativeStyleEditorValidAttributes ||\n      null;\n\n    setupNativeStyleEditor(bridge, agent, nativeStyleResolver, validAttributes);\n  }\n\n  return unsubscribeBackend;\n}\n"],"names":["ErrorStackParser","require","React","assign","Object","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","REACT_CONTEXT_TYPE","Symbol","for","REACT_MEMO_CACHE_SENTINEL","hasOwnProperty","prototype","hookLog","primitiveStackCache","getPrimitiveStackCache","cache","Map","Dispatcher","useContext","_currentValue","useState","useReducer","s","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useOptimistic","useFormState","useActionState","useHostTransitionStatus","useMemoCache","use","$$typeof","then","status","value","x","useId","useEffectEvent","readHookLog","i","length","hook","set","primitive","parse","stackError","currentFiber","currentHook","currentContextDependency","nextHook","next","readContext","context","Error","call","memoizedValue","SuspenseException","usable","fulfilledValue","push","displayName","debugInfo","_debugInfo","dispatcherHookName","reason","String","callback","memoizedState","create","ref","instance","current","nextCreate","reducer","initialArg","init","initialValue","initialState","formatterFn","stateHook","subscribe","getSnapshot","action","error","passthrough","size","fiber","updateQueue","memoCache","data","index","Array","DispatcherProxyHandler","get","target","prop","name","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","source","a","b","isReactWrapper","functionName","wrapperName","parseHookName","startIndex","lastIndexOf","slice","startsWith","buildTree","rootStack$jscomp$0","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","JSCompiler_inline_result","i$jscomp$0","pop","id","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","fileName","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","splice","map","_ref","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","props","currentDispatcher","previousDispatcher","H","ancestorStackError","restoreContexts","contextMap","forEach","exports","inspectHooksOfFiber","tag","dependencies","firstContext","dependencies_old","dependencies_new","contextDependencies","first","type","memoizedProps","elementType","defaultProps","propName","_context","has","return","render","process","env","NODE_ENV","module","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_POSTPONE_TYPE","REACT_VIEW_TRANSITION_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","updater","refs","isReactComponent","setState","partialState","forceUpdate","ComponentDummy","PureComponent","pureComponentPrototype","constructor","isPureReactComponent","isArrayImpl","isArray","noop","A","T","S","G","ReactElement","key","self","owner","cloneAndReplaceKey","oldElement","newKey","isValidElement","object","escape","escaperLookup","replace","match","userProvidedKeyEscapeRegex","getElementKey","element","toString","resolveThenable","thenable","mapIntoArray","children","array","escapedPrefix","nameSoFar","invokeCallback","_init","_payload","c","nextNamePrefix","done","keys","join","mapChildren","func","result","count","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","window","ErrorEvent","event","bubbles","cancelable","message","dispatchEvent","emit","console","startTransition","scope","prevTransition","currentTransition","types","gesture","returnValue","onStartTransitionFinish","addTransitionType","transition","transitionTypes","indexOf","bind","Children","forEachFunc","forEachContext","apply","arguments","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__COMPILER_RUNTIME","__proto__","fn","cacheSignal","cloneElement","config","childArray","createContext","defaultValue","_currentValue2","_threadCount","Provider","Consumer","createElement","childrenLength","createRef","experimental_useEffectEvent","experimental_useOptimistic","forwardRef","lazy","memo","compare","unstable_Activity","unstable_SuspenseList","unstable_ViewTransition","unstable_addTransitionType","unstable_getCacheForType","resourceType","dispatcher","getCacheForType","unstable_postpone","unstable_startGestureTransition","provider","options","onStartGestureTransitionFinish","unstable_useCacheRefresh","permalink","deps","Context","getServerSnapshot","version","root","factory","define","amd","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","exec","undefined","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","sanitizedLine","location","tokens","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","len","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","args","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","max","TypeError","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","trim","allowStale","mA","lC","hit","rforEach","thisp","walker","tail","prev","forEachStep","head","k","values","dump","isStale","v","now","h","dumpLru","Date","del","node","item","Entry","unshift","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Item","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","Boolean","j","Number","Node","list","pushNode","res","forEachReverse","getReverse","mapReverse","reduce","initial","acc","reduceReverse","toArrayReverse","from","to","ret","sliceReverse","start","deleteCount","insert","reverse","inserted","er","EventEmitter","listener","listenersMap","didThrow","caughtError","clonedListeners","clear","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RECORD_TIMELINE_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","FIREFOX_CONSOLE_DIMMING_COLOR","ANSI_STYLE_DIMMING_TEMPLATE","ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK","compareVersions","v1","v2","n1","validateAndParse","n2","p1","p2","r","compareSegments","validate","test","semver","operator","assertValidOperator","operatorResMap","includes","satisfies","range","m","op","v3","vp","r1","r2","r3","rp","nonZero","findIndex","isWildcard","tryParse","parseInt","forceType","compareStrings","ap","bp","Math","allowedOperators","enableHydrationLaneScheduling","favorSafetyOverHydrationPerf","disableSchedulerTimeoutInWorkLoop","enableSuspenseCallback","enableScopeAPI","enableCreateEventHandleAPI","enableLegacyFBSupport","enableYieldingBeforePassive","enableThrottledScheduling","enableLegacyCache","__EXPERIMENTAL__","enableAsyncIterableChildren","enableTaint","enablePostpone","enableHalt","enableViewTransition","enableGestureTransition","enableScrollEndPolyfill","enableSuspenseyImages","enableFizzBlockingRender","enableSrcObject","enableHydrationChangeEvent","enableDefaultTransitionIndicator","enableObjectFiber","enableTransitionTracing","enableLegacyHidden","enableSuspenseAvoidThisFallback","enableCPUSuspense","enableNoCloningMemoCache","enableUseEffectEventHook","enableFizzExternalRuntime","alwaysThrottleRetries","passChildrenWhenCloningPersistedNodes","enablePersistedModeClonedFlag","enableEagerAlternateStateNodeCleanup","enableRetryLaneExpiration","retryLaneExpirationMs","syncLaneExpirationMs","transitionLaneExpirationMs","enableInfiniteRenderLoopDetection","enableLazyPublicInstanceInFabric","enableFragmentRefs","renameElementSymbol","enableHiddenSubtreeInsertionEffectCleanup","disableLegacyContext","disableLegacyContextForFunctionComponents","enableMoveBefore","disableClientCache","enableReactTestRendererWarning","disableLegacyMode","disableCommentsAsDOMContainers","enableTrustedTypesIntegration","disableInputAttributeSyncing","disableTextareaChildren","enableProfilerTimer","__PROFILE__","enableComponentPerformanceTrack","enableSchedulingProfiler","enableProfilerCommitHooks","enableProfilerNestedUpdatePhase","enableAsyncDebugInfo","enableUpdaterTracking","ownerStackLimit","REACT_LEGACY_ELEMENT_TYPE","REACT_SCOPE_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","FAUX_ITERATOR_SYMBOL","maybeIterator","ASYNC_ITERATOR","asyncIterator","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ElementTypeVirtual","ElementTypeViewTransition","ElementTypeActivity","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","ComponentFilterEnvironmentName","LRU","localStorageGetItem","localStorageSetItem","sessionStorageGetItem","sessionStorageRemoveItem","sessionStorageSetItem","meta","isSynchronousXHRSupported","cachedDisplayNames","WeakMap","encodedStringCache","LEGACY_REACT_PROVIDER_TYPE","alphaSortKeys","getAllEnumerableKeys","Set","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","enumerable","add","getPrototypeOf","getWrappedDisplayName","outerType","innerType","fallbackName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeStringWithRanges","left","right","string","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","numErrors","numWarnings","log","getDefaultComponentFilters","isEnabled","getSavedComponentFilters","raw","parsedFilters","JSON","filterOutLocationComponentFilters","setSavedComponentFilters","componentFilters","stringify","f","getDefaultOpenInEditorURL","EDITOR_URL","getOpenInEditorURL","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","displayNameWithoutForgetWrapper","shallowDiffers","attribute","getInObject","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","isError","getDataType","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","typeOfWithLegacyElementSymbol","$$typeofType","getDisplayNameForReactElement","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","shortName","entryOrEntries","toStringTag","resolvedConstructorName","sort","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","normalizeUrlIfValid","url","URL","getIsReloadAndProfileSupported","isBackendStorageAPISupported","localStorage","getItem","getIfReloadedAndProfiling","getProfilingSettings","recordChangeDescriptions","recordTimeline","onReloadAndProfile","onReloadAndProfileFlagsReset","inspectable","inspected","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","dehydrateKey","unserializableValue","keyAsString","preview","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","configurable","formatOwnerStack","prevPrepareStackTrace","prepareStackTrace","formatOwnerStackString","idx","formatWithStyles","formatConsoleArguments","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","safeToString","val","err","formatConsoleArgumentsToSingleString","maybeMessage","inputArgs","REGEXP","escaped","ptn","flag","arg","document","featurePolicy","allowsFeature","gt","isReactNativeEnvironment","withoutParentheses","sourceURL","column","CHROME_STACK_REGEXP","parseSourceFromChromeStack","frames","frame","sanitizedFrame","locationInParenthesesMatch","possibleLocation","parseSourceFromFirefoxStack","frameWithoutFunctionName","parseSourceFromComponentStack","componentStack","collectedLocation","collectStackTrace","structuredStackTrace","callSite","getScriptNameOrSourceURL","getEnclosingLineNumber","col","getEnclosingColumnNumber","parseSourceFromOwnerStack","previousPrepare","formatDurationToMicrosecondsGranularity","duration","round","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","borderLeft","bottom","borderBottom","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","extractHOCNames","baseComponentName","hocNames","hocRegex","hocName","inner","OverlayRect","doc","container","border","padding","content","style","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","inspect","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","nodeName","ownerName","getComponentNameForHostInstance","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlayNative","hideOverlayWeb","hideOverlay","showOverlayNative","showOverlayWeb","componentName","hideAfterTimeout","showOverlay","Agent","iframesListeningTo","setupHighlighter","bridge","clearHostInstanceHighlight","highlightHostInstance","stopInspectingHost","startInspectingHost","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openBuiltinElementsPanel","scrollIntoView","renderer","rendererInterfaces","warn","hasElementWithId","findHostInstancesForElementID","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","preventDefault","stopPropagation","selectElementForNode","getEventTarget","lastHoveredNode","iframe","getIDForHostInstance","composed","composedPath","COLORS","canvas","drawNative","nodeToData","nodesToDraw","iterateNodes","mergedNodes","groupAndSortNodes","drawWeb","initialize","dpr","devicePixelRatio","canvasFlow","getContext","scale","clearRect","group","drawGroupBorders","drawGroupLabel","hidePopover","showPopover","positionGroups","groupA","groupB","maxCountA","maxCountB","beginPath","strokeStyle","stroke","mergedName","drawLabel","draw","execute","colorIndex","expirationTime","lastMeasuredAt","text","font","textBaseline","textAlign","textHeight","metrics","measureText","backgroundWidth","backgroundHeight","labelX","labelY","fillStyle","fillRect","fillText","destroyNative","destroyWeb","destroy","setAttribute","cssText","insertBefore","firstChild","destroyCanvas","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","HOC_MARKERS","getCurrentTime","performance","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","measureNode","markers","hoc","enhancedDisplayName","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_messageQueue","_wall","_scheduledFlush","wasForwarded","_wallUnlisten","listen","overrideValueAtPath","_isShutdown","devtoolsJestTestScheduler","_flush","queueMicrotask","shutdown","wallUnlisten","localStorageRemoveItem","removeItem","setItem","sessionStorage","setupTraceUpdates","setTraceUpdatesEnabled","debug","methodName","isProfiling","_rendererInterfaces","clearErrorsAndWarnings","clearErrorsForElementID","clearWarningsForElementID","getSerializedElementValueByPath","_bridge","hookID","deletePath","DEVTOOLS_VERSION","getProfilingData","_isProfiling","owners","getOwnersList","forceFullData","requestID","inspectElement","_persistedSelectionMatch","_persistedSelection","setTrackedPath","_lastSelectedElementID","_lastSelectedRendererID","_persistSelectionTimerScheduled","_persistSelection","logElementToConsole","forceError","overrideError","forceFallback","overrideSuspense","_onReloadAndProfile","renamePath","traceUpdatesEnabled","_traceUpdatesEnabled","selectNode","startProfiling","stopProfiling","selected","storeAsGlobal","settings","rendererIDString","getPathForElement","updateComponentFilters","accumulatedNames","names","getEnvironmentNames","prevMatch","nextMatch","getBestMatchForTrackedPath","prevMatchID","nextMatchID","isFullMatch","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromBuiltinElementsPanel","updateHookSettings","getHookSettings","getIfHasUnsupportedRendererVersion","overrideContext","overrideHookState","overrideProps","overrideState","getInstanceAndStyle","getElementIDForHostInstance","bestMatch","bestRenderer","nearestNode","getNearestMountedDOMNode","contains","getDisplayNameForElementID","registerRendererInterface","rendererInterface","selection","onUnsupportedRenderer","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","groupCollapsed","groupEnd","writable","reenableLogs","prefix","describeBuiltInComponentFrame","suffix","__IS_CHROME__","__IS_EDGE__","__IS_NATIVE__","__IS_FIREFOX__","describeDebugInfoFrame","reentry","componentFrameCache","__DEV__","PossiblyWeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","previousPrepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","defineProperty","Reflect","maybePromise","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","sampleStack","controlStack","sampleLines","controlLines","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","getOwnerStackByComponentInfoInDev","componentInfo","ownerStack","debugStack","componentInfoToComponentLogsMap","supportsConsoleTasks","debugTask","attach","global","getCurrentComponentInfo","getComponentStack","topFrame","enableOwnerStacks","topStackFrames","onErrorOrWarning","format","componentLogsEntry","errors","errorsCount","warnings","warningsCount","messageMap","cleanup","flushInitialOperations","handleCommitFiberRoot","handleCommitFiberUnmount","handlePostCommitFiberRoot","responseID","getElementAttributeByPath","getElementSourceFunctionById","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_SYMBOL_STRING","LEGACY_ELEMENT_NUMBER","LEGACY_ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","y","objectIs","describeFiber","workTagMap","workInProgress","HostHoistable","HostSingleton","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","ForwardRef","ClassComponent","ViewTransitionComponent","ActivityComponent","getStackByFiberInDevAndProd","entry","getSourceLocationByFiber","_debugTask","supportsOwnerStacks","_debugStack","getOwnerStackByFiberInDev","HostText","_debugOwner","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","crawlObjectProperties","fromEntries","entries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","TIME_OFFSET","performanceTarget","supportsUserTiming","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","depth","reactMeasure","batchUID","timestamp","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","trace","profilingHooks","FIBER_INSTANCE","VIRTUAL_INSTANCE","FILTERED_FIBER_INSTANCE","createFiberInstance","kind","nextSibling","logCount","treeBaseDuration","createFilteredFiberInstance","createVirtualInstance","debugEntry","getDispatcherRef","injectedRef","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","ReactTypeOfWork","CacheComponent","ContextConsumer","ContextProvider","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","IncompleteClassComponent","IncompleteFunctionComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","TracingMarkerComponent","YieldComponent","Throw","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","shouldSkipForgetCheck","resolvedType","resolvedContext","fiberRoot","_debugRootType","knownEnvironmentNames","rootToFiberInstanceMap","idToDevToolsInstanceMap","publicInstanceToDevToolsInstanceMap","hostResourceToDevToolsInstanceMap","getPublicInstance","canonical","publicInstance","_nativeTag","getNativeTag","nativeTag","aquireHostInstance","nearestInstance","hostInstance","releaseHostInstance","aquireHostResource","resource","resourceInstances","releaseHostResource","firstInstance","shouldStartProfilingNow","profilingSettings","reconcilerVersion","injectProfilingHooks","overrideHookStateDeletePath","overrideHookStateRenamePath","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","getCurrentFiber","supportsTogglingError","supportsTogglingSuspense","response","fiberToComponentLogsMap","needsToFlushComponentLogs","bruteForceFlushErrorsAndWarnings","hasChanges","devtoolsInstance","changed","recordConsoleLogs","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearConsoleLogsHelper","instanceID","fiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","dispatcherRef","forceErrorForFibers","parentInstance","extraString","maybeID","parentDisplayName","maybeParentID","debugTree","indent","repeat","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","hideElementsWithEnvs","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","RegExp","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","getFiberRoots","rootInstance","currentRoot","unmountInstanceRecursively","rootDisplayNameCounter","newRoot","trackedPath","mightBeOnTrackedPath","setRootPseudoKey","mountFiberRecursively","shouldFilterVirtual","secondaryEnv","displayNameRegExp","shouldFilterFiber","getElementTypeForFiber","untrackFiber","shouldErrorFiberAlwaysNull","forceFallbackForFibers","shouldSuspendFiberAlwaysFalse","sibling","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","state","getContextChanged","getChangedKeys","indices","getChangedHooksIndices","hooks","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","pushOperation","isInteger","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","totalCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","fiberInstance","isProfilingSupported","hasOwnerMetadata","profilingFlags","isProductionBuildOfRenderer","bundleType","displayNamesByRootID","getDisplayNameForRoot","debugOwner","getUnfilteredOwner","ownerInstance","findNearestOwnerInstance","ownerID","keyString","keyStringID","parentFiber","parentFiberInstance","recordProfilingDurations","recordVirtualMount","recordUnmount","reconcilingParent","trackedPathMatchInstance","remainingReconcilingChildren","previouslyReconciledSibling","insertChild","moveChild","previousSibling","unmountRemainingChildren","mountVirtualInstanceRecursively","virtualInstance","lastChild","traceNearestHostComponentUpdate","virtualLevel","mightSiblingsBeOnTrackedPath","updateVirtualTrackedPathStateBeforeMount","stashedParent","stashedPrevious","stashedRemaining","mountVirtualChildrenRecursively","recordVirtualProfilingDurations","updateTrackedPathStateAfterMount","recordVirtualUnmount","getSecondaryEnvironmentName","previousVirtualInstance","previousVirtualInstanceFirstFiber","mountChildrenRecursively","shouldIncludeInTree","newInstance","updateTrackedPathStateBeforeMount","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","actualDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","changeDescription","changeDescriptions","updaters","memoizedUpdaters","instanceToSerializedElement","previousTreeBaseDuration","recordResetChildren","nextChildren","innerChild","updateVirtualInstanceRecursively","nextFirstChild","nextLastChild","prevFirstChild","updateVirtualChildrenRecursively","shouldResetChildren","nextChild","prevChildAtSameIndex","previousVirtualInstanceWasMount","previousVirtualInstanceNextFirstFiber","previousVirtualInstancePrevFirstFiber","previousSiblingOfBestMatch","newVirtualInstance","prevChild","previousSiblingOfExistingInstance","existingInstance","updateFiberRecursively","updateChildrenRecursively","isSuspense","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","hostInstances","findAllCurrentHostInstances","rootSupportsProfiling","memoizedInteractions","localPendingOperationsQueue","commitTime","profilingStartTime","priorityLevel","formatPriorityLevel","wasMounted","isDehydrated","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","getResourceInstance","appendHostInstancesByDevToolsInstance","appendHostInstancesByFiber","domNode","isMostRecentlyInspectedElement","getOwnersListFromInstance","ownerFiber","ownerInfo","isErrorBoundary","getDerivedStateFromError","componentDidCatch","inspectElementRaw","inspectVirtualInstanceRaw","inspectFiberInstanceRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","contextType","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","originalConsoleMethods","method","rootType","hasErrorBoundary","hasSuspenseBoundary","temp","isTimedOutSuspense","isErrored","DidCapture","plugins","stylex","xstyle","getSourceForFiberInstance","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","rendererPackageName","rendererVersion","getSourceForInstance","nearestFiber","getNearestFiber","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","valueToCopy","errorType","cleanedInspectedElement","supportsGroup","chrome","navigator","userAgent","pendingProps","initialTreeBaseDurationsMap","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","snapshotTreeBaseDurations","shouldRecordChangeDescriptions","shouldRecordTimeline","inst","shouldErrorFiberAccordingToMap","shouldSuspendFiberAccordingToSet","trackedPathMatchFiber","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","getVirtualPathFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","keyPath","ownerSource","stackFrame","unresolvedSource","debugLocation","lastLine","internalMcpFunctions","__IS_INTERNAL_MCP_BUILD__","__internal_only_getComponentTree","treeString","buildTreeString","isLastChild","childPrefix","childCount","tempChild","currentChildIndex","isLastSibling","rootInstances","isLast","decorate","old","decorateMany","fns","olds","restoreMany","getData","internalInstance","_currentElement","getElementType","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","findHostInstanceForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","roots","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","enabled","attachFlight","attachFiber","attachLegacy","isMatchingRender","attachRenderer","findFiberByHostInstance","template","argumentsPointer","currentChar","nextChar","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","frameDiffs","areStackTracesEqual","targetConsole","defaultProfilingSettings","installHook","maybeSettingsOrSettingsPromise","detectReactBuildType","Function","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","inject","renderers","reactBuildType","hasUnsupportedRendererAttached","sub","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","isRunningDuringStrictModeInvocation","setStrictMode","isStrictMode","patchConsoleForStrictMode","unpatchConsoleForStrictMode","unpatchConsoleCallbacks","consoleMethodsToOverrideForStrictMode","originalMethod","overrideMethod","hideConsoleLogsInStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","registerInternalModuleStart","registerInternalModuleStop","patchConsoleForErrorsAndWarnings","consoleMethodsToOverrideForErrorsAndWarnings","injectedComponentStackAsFakeError","alreadyHasComponentStack","appendComponentStack","lastArg","shouldShowInlineWarningsAndErrors","showInlineWarningsAndErrors","fakeError","firstArg","endsWith","breakOnConsoleErrors","argsWithCSSStyles","backends","supportsFiber","supportsFlight","Promise","resolve","initBackend","isReloadAndProfileSupported","subs","onFastRefreshScheduled","onHookOperations","onTraceUpdates","onHookSettings","reactDevtoolsAgent","onAgentShutdown","onReloadAndProfileSupportedByHost","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","savedComponentFilters","connectToDevTools","host","nativeStyleEditorValidAttributes","useHttps","port","websocket","resolveRNStyle","retryConnectionDelay","isAppActive","onSettingsUpdated","protocol","retryTimeoutID","scheduleRetry","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","transferable","readyState","OPEN","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick","connectWithCustomMessagingProtocol","onSubscribe","onUnsubscribe","onMessage","unsubscribeBackend","nativeStyleResolver"],"sourceRoot":""}